"use strict";(self.webpackChunk_coreui_coreui_free_react_admin_template=self.webpackChunk_coreui_coreui_free_react_admin_template||[]).push([[2],{42251:function(e,n,t){t.d(n,{Qq:function(){return u},lq:function(){return l},yd:function(){return s}});var r=t(74165),a=t(15861),o=t(31881),c=t.n(o),i=(t(70816),t(50804)),u=function(){return function(e){c().get("https://dental-app-backend.herokuapp.com/api/branches").then((function(n){console.log(n),e(h(n.data))})).catch((function(e){console.log(e)}))}},s=function(e){return function(){var n=(0,a.Z)((0,r.Z)().mark((function n(t){return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,c().post("https://dental-app-backend.herokuapp.com/api/branches",e).then((function(e){t(p(e.data))})).catch((function(e){console.log(e)}));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},l=function(e,n){return function(){var t=(0,a.Z)((0,r.Z)().mark((function t(a){return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c().put("https://dental-app-backend.herokuapp.com/api/branches/".concat(n),e).then((function(n){a(d(e))})).catch((function(e){console.log(e)}));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},p=function(e){return{type:i.V.createBranch,payload:e}},d=function(e){return{type:i.V.updateBranch,payload:e}},h=function(e){return{type:i.V.getBranches,payload:e}}},11916:function(e,n,t){t.d(n,{LY:function(){return s},QX:function(){return l},xJ:function(){return u}});var r=t(74165),a=t(15861),o=t(31881),c=t.n(o),i=t(50804),u=function(){return function(){var e=(0,a.Z)((0,r.Z)().mark((function e(n){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c().get("https://dental-app-backend.herokuapp.com/api/roles").then((function(e){n(d(e.data))})).catch((function(e){console.log(e)}));case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()},s=function(e){return function(){var n=(0,a.Z)((0,r.Z)().mark((function n(t){return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,c().post("https://dental-app-backend.herokuapp.com/api/roles",e).then((function(e){console.log(e),t(p(e.data))})).catch((function(e){console.log(e)}));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},l=function(e,n){return function(){var t=(0,a.Z)((0,r.Z)().mark((function t(a){return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c().put("https://dental-app-backend.herokuapp.com/api/roles/".concat(n),e).then((function(e){a(u()),console.log(e)})).catch((function(e){console.log(e)}));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},p=function(e){return{type:i.V.createRole,payload:e}},d=function(e){return{type:i.V.getRoles,payload:e}}},84002:function(e,n,t){t.r(n),t.d(n,{default:function(){return G}});var r=t(29439),a=t(97241),o=t(82277),c=t(47313),i=t(1084),u=t(74165),s=t(15861),l=t(31881),p=t.n(l),d=t(50804),h=function(e,n){return function(){var t=(0,s.Z)((0,u.Z)().mark((function t(r){return(0,u.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,p().put("https://dental-app-backend.herokuapp.com/api/users/".concat(n),e).then((function(n){r(m(e))})).catch((function(e){console.log(e)}));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},f=function(e){return{type:d.V.createUser,payload:e}},m=function(e){return{type:d.V.updateUser,payload:e}},v=function(e){return{type:d.V.getUsers,payload:e}},x=t(98456),Z=t(1413),g=t(87913),b=t(7501),j=t(9019),k=t(46417),y={id:0,name:"",lastname:"",roleId:"",branchId:"",phone:"",email:"",password:"",birth_date:new Date,address:""},F=function(e){var n=e.recordForEdit,t=e.addOrEdit,r=e.cancelForm,a=(0,g.c)(y),o=a.values,u=a.setValues,s=a.handleInputChange,l=a.resetForm,p=(0,i.v9)((function(e){return e.branches})),d=(0,i.v9)((function(e){return e.roles}));(0,c.useEffect)((function(){null!=n&&(console.log(n),n.id&&u((0,Z.Z)({},n)))}),[n]);return(0,k.jsx)(g.l,{onSubmit:function(e){e.preventDefault(),t(o,l)},children:(0,k.jsxs)(j.ZP,{container:!0,rowSpacing:0,columnSpacing:2,children:[(0,k.jsx)(j.ZP,{item:!0,xs:6,sm:3,children:(0,k.jsx)(b.Z.FormInput,{label:"Nombre",name:"name",value:o.name,onChange:s,required:!0})}),(0,k.jsx)(j.ZP,{item:!0,xs:6,sm:3,children:(0,k.jsx)(b.Z.FormInput,{label:"Apellido(s)",name:"lastname",value:o.lastname,onChange:s,required:!0})}),(0,k.jsx)(j.ZP,{item:!0,xs:12,sm:6,children:(0,k.jsx)(b.Z.FormSelect,{name:"branchId",label:"Sucursal",value:o.branchId,onChange:s,items:null!==n&&void 0!==n&&n.id?p:p.filter((function(e){return e.status})),required:!0})}),(0,k.jsxs)(j.ZP,{item:!0,xs:12,sm:6,children:[(0,k.jsx)(b.Z.FormInput,{label:"Tel\xe9fono",name:"phone",value:o.phone,onChange:s,required:!0}),(0,k.jsx)(b.Z.FormInput,{label:"Direcci\xf3n",name:"address",value:o.address,onChange:s,required:!0}),(0,k.jsx)(b.Z.FormDatePicker,{name:"birth_date",label:"Fecha de nacimiento",value:o.birth_date,onChange:s,required:!0})]}),(0,k.jsxs)(j.ZP,{item:!0,xs:12,sm:6,children:[(0,k.jsx)(b.Z.FormSelect,{name:"roleId",label:"Rol",value:o.roleId,onChange:s,items:null!==n&&void 0!==n&&n.id?d:d.filter((function(e){return e.status})),required:!0}),(0,k.jsx)(b.Z.FormInput,{label:"Correo electronico",name:"email",value:o.email,onChange:s,validators:["isEmail"],errorMessages:["Ingresar email v\xe1lido"],required:!0}),(0,k.jsx)(b.Z.FormInput,{label:"Contrase\xf1a",name:"password",value:o.password,onChange:s,required:!0,disabled:n&&!0})]}),(0,k.jsxs)(j.ZP,{item:!0,xs:12,style:{textAlign:"right",paddingTop:5},children:[(0,k.jsx)(b.Z.FormButton,{variant:"text",color:"default",size:"large",text:"Cancelar",onClick:function(){r(l)}}),(0,k.jsx)(b.Z.FormButton,{variant:"contained",color:"primary",type:"submit",size:"large",text:"Guardar"})]})]})})},w=t(40490),I=t.n(w),C=t(61091),z=t(79632),V=t(56863),_=t(11163),S=t(50884),P=t(63185),q=t(64676),E=t(56155),T=t(77166),H=t(16541),M=(t(11901),t(39615)),A=t(70816),D=t.n(A),R=t(64154),B=t(98896),U=t(42251),Y=t(11916),O=t(58228),Q=t(43619),J=t(40671),L=function(e){var n=[{title:(0,k.jsx)(H.T,{Icon:_.Z,title:"Nombre"}),field:"name"},{title:(0,k.jsx)(H.T,{Icon:S.Z,title:"Apellido(s)"}),field:"lastname"},{title:(0,k.jsx)(H.T,{Icon:P.Z,title:"Rol"}),field:"role.name"},{title:(0,k.jsx)(H.T,{Icon:q.Z,title:"Sucursal"}),field:"branch.name"},{title:(0,k.jsx)(H.T,{Icon:C.Z,title:"Tel\xe9fono"}),field:"phone"},{title:(0,k.jsx)(H.T,{Icon:z.Z,title:"Correo Electronico"}),field:"email"},{title:(0,k.jsx)(H.T,{Icon:V.Z,title:"Fecha de registro"}),field:"createdAt",type:"date",defaultSort:"desc",render:function(e){return D()(e.createdAt).format("DD/MM/YYYY")}}],t=e.setOpenPopup,r=e.setRecordForEdit,a=(0,i.I0)(),o=(0,i.v9)((function(e){return e.users})),l=(0,i.v9)((function(e){return e.roles})),d=(0,i.v9)((function(e){return e.branches}));return(0,c.useEffect)((function(){0===l.length&&a((0,Y.xJ)()),0===d.length&&a((0,U.Qq)()),0===o.length&&a(function(){var e=(0,s.Z)((0,u.Z)().mark((function e(n){return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p().get("https://dental-app-backend.herokuapp.com/api/users").then((function(e){console.log(e),n(v(e.data))})).catch((function(e){console.log(e)}));case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}())}),[]),(0,c.useMemo)((function(){return(0,k.jsx)(k.Fragment,{children:null!=o?(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(T.T,{title:"Usuarios"}),(0,k.jsx)(I(),{localization:M._,icons:R.P,columns:n,data:o,actions:(0,O.Z)("Editar Usuario",h,t,r,a),components:(0,Q.Z)(t,r),options:{search:!0,draggable:!1,showTitle:!1,thirdSortClick:!1,searchFieldAlignment:"left",actionsColumnIndex:-1,searchFieldVariant:"outlined",searchFieldStyle:{margin:15},headerStyle:B.i,rowStyle:J.Z}})]}):(0,k.jsx)(E.$,{})})}),[o])},N=(0,a.Z)((function(e){return{pageContent:{margin:e.spacing(3),padding:e.spacing(3)},searchInput:{width:"75%"}}})),G=function(){var e=(0,i.I0)(),n=(0,c.useState)(!1),t=(0,r.Z)(n,2),a=t[0],l=t[1],d=(0,c.useState)(null),m=(0,r.Z)(d,2),v=m[0],Z=m[1];N();return(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(o.Z,{children:(0,k.jsx)(L,{setOpenPopup:l,setRecordForEdit:Z})}),(0,k.jsx)(x.Y,{openPopup:a,setOpenPopup:l,setRecordForEdit:Z,title:"Usuario",children:(0,k.jsx)(F,{recordForEdit:v,addOrEdit:function(n,t){0===n.id?(delete n.id,e(function(e){return function(){var n=(0,s.Z)((0,u.Z)().mark((function n(t){return(0,u.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,p().post("https://dental-app-backend.herokuapp.com/api/users",e).then((function(e){t(f(e.data))})).catch((function(e){console.log(e)}));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}(n))):(delete n.tableData,e(h(n,n.id))),t(),Z(null),l(!1)},cancelForm:function(e){e(),Z(null),l(!1)}})})]})}},63185:function(e,n,t){var r=t(95318);n.Z=void 0;var a=r(t(45045)),o=t(46417),c=(0,a.default)([(0,o.jsx)("path",{d:"M17 11c.34 0 .67.04 1 .09V6.27L10.5 3 3 6.27v4.91c0 4.54 3.2 8.79 7.5 9.82.55-.13 1.08-.32 1.6-.55-.69-.98-1.1-2.17-1.1-3.45 0-3.31 2.69-6 6-6z"},"0"),(0,o.jsx)("path",{d:"M17 13c-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4zm0 1.38c.62 0 1.12.51 1.12 1.12s-.51 1.12-1.12 1.12-1.12-.51-1.12-1.12.5-1.12 1.12-1.12zm0 5.37c-.93 0-1.74-.46-2.24-1.17.05-.72 1.51-1.08 2.24-1.08s2.19.36 2.24 1.08c-.5.71-1.31 1.17-2.24 1.17z"},"1")],"AdminPanelSettings");n.Z=c},64676:function(e,n,t){var r=t(95318);n.Z=void 0;var a=r(t(45045)),o=t(46417),c=(0,a.default)((0,o.jsx)("path",{d:"M12 7V3H2v18h20V7H12zM6 19H4v-2h2v2zm0-4H4v-2h2v2zm0-4H4V9h2v2zm0-4H4V5h2v2zm4 12H8v-2h2v2zm0-4H8v-2h2v2zm0-4H8V9h2v2zm0-4H8V5h2v2zm10 12h-8v-2h2v-2h-2v-2h2v-2h-2V9h8v10zm-2-8h-2v2h2v-2zm0 4h-2v2h2v-2z"}),"Business");n.Z=c}}]);