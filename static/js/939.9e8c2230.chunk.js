"use strict";(self.webpackChunk_coreui_coreui_free_react_admin_template=self.webpackChunk_coreui_coreui_free_react_admin_template||[]).push([[939],{33743:function(e,t,n){n.d(t,{CP:function(){return l},IG:function(){return u},dc:function(){return s}});var r=n(74165),o=n(15861),c=n(31881),i=n.n(c),a=(n(70816),n(50804)),u=function(){return function(e){i().get("https://dental-app-backend.herokuapp.com/api/product_categories").then((function(t){console.log(t),e(f(t.data))})).catch((function(e){console.log(e)}))}},s=function(e){return function(){var t=(0,o.Z)((0,r.Z)().mark((function t(n){return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i().post("https://dental-app-backend.herokuapp.com/api/product_categories",e).then((function(e){n(d(e.data))})).catch((function(e){console.log(e)}));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},l=function(e,t){return function(){var n=(0,o.Z)((0,r.Z)().mark((function n(o){return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,i().put("https://dental-app-backend.herokuapp.com/api/product_categories/".concat(t),e).then((function(t){o(p(e))})).catch((function(e){console.log(e)}));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},d=function(e){return{type:a.V.createProductCategory,payload:e}},p=function(e){return{type:a.V.updateProductCategory,payload:e}},f=function(e){return{type:a.V.getProductCategories,payload:e}}},51699:function(e,t,n){n.d(t,{Ic:function(){return s},td:function(){return u},yY:function(){return l}});var r=n(74165),o=n(15861),c=n(31881),i=n.n(c),a=n(50804),u=function(){return function(e){i().get("https://dental-app-backend.herokuapp.com/api/providers").then((function(t){console.log(t),e(f(t.data))})).catch((function(e){console.log(e)}))}},s=function(e){return function(){var t=(0,o.Z)((0,r.Z)().mark((function t(n){return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i().post("https://dental-app-backend.herokuapp.com/api/providers",e).then((function(e){n(d(e.data))})).catch((function(e){console.log(e)}));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},l=function(e,t){return function(){var n=(0,o.Z)((0,r.Z)().mark((function n(o){return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,i().put("https://dental-app-backend.herokuapp.com/api/providers/".concat(t),e).then((function(t){o(p(e))})).catch((function(e){console.log(e)}));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},d=function(e){return{type:a.V.createProvider,payload:e}},p=function(e){return{type:a.V.updateProvider,payload:e}},f=function(e){return{type:a.V.getProviders,payload:e}}},30939:function(e,t,n){n.r(t),n.d(t,{default:function(){return Y}});var r=n(29439),o=n(97241),c=n(82277),i=n(47313),a=n(1084),u=n(20611),s=n(98456),l=n(1413),d=n(21144),p=n(87913),f=n(7501),m=(n(51111),n(46417)),h={id:0,name:"",description:"",minimum_stock:"",current_stock:"",purchase_price:"",sale_price:"",branchId:"",productCategoryId:"",providerId:""},g=function(e){var t=e.recordForEdit,n=e.addOrEdit,o=(e.cancelForm,(0,a.v9)((function(e){return e.branches}))),c=(0,a.v9)((function(e){return e.providers})),u=(0,a.v9)((function(e){return e.productCategories})),s=(0,i.useState)(!0),g=(0,r.Z)(s,2),x=g[0],v=g[1],Z=(0,p.c)(h),j=Z.values,k=Z.setValues,y=Z.handleInputChange,b=Z.resetForm;(0,i.useEffect)((function(){null!=t&&(t.id?(k((0,l.Z)({},t)),1!==t.productCategoryId&&v(!1)):v(!0))}),[t]);return(0,m.jsx)(p.l,{onSubmit:function(e){e.preventDefault(),n(j,b)},children:(0,m.jsxs)(d.Z,{container:!0,spacing:3,children:[(0,m.jsxs)(d.Z,{item:!0,xs:12,sm:6,children:[(0,m.jsx)(f.Z.FormInput,{label:"Nombre",name:"name",value:j.name,onChange:y,required:!0}),(0,m.jsx)(f.Z.FormInput,{label:"Descripci\xf3n",name:"description",value:j.description,onChange:y,required:!0}),(0,m.jsx)(f.Z.FormSelect,{name:"productCategoryId",label:"Categoria Producto",value:j.productCategoryId,onChange:function(e){y(e),1!==e.target.value?v(!1):v(!0)},items:u,required:!0}),(0,m.jsxs)(d.Z,{container:!0,spacing:1,children:[(0,m.jsx)(d.Z,{item:!0,xs:6,sm:6,children:(0,m.jsx)(f.Z.FormInput,{label:"Stock Actual",name:"current_stock",value:j.current_stock||"",onChange:y,type:"number",required:x})}),(0,m.jsx)(d.Z,{item:!0,xs:6,sm:6,children:(0,m.jsx)(f.Z.FormInput,{label:"Stock Minimo",name:"minimum_stock",value:j.minimum_stock||"",onChange:y,type:"number",required:x})})]})]}),(0,m.jsxs)(d.Z,{item:!0,xs:12,sm:6,children:[(0,m.jsx)(f.Z.FormSelect,{name:"branchId",label:"Sucursal",value:j.branchId,onChange:y,items:o,required:!0}),(0,m.jsx)(f.Z.FormSelect,{name:"providerId",label:"Proveedor",value:j.providerId||"",onChange:y,items:c,required:x}),(0,m.jsx)(f.Z.FormInput,{label:"Precio de Compra",name:"purchase_price",value:j.purchase_price||"",onChange:y,type:"number",required:x}),(0,m.jsx)(f.Z.FormInput,{label:"Precio de Venta",name:"sale_price",value:j.sale_price,onChange:y,type:"number",required:!0})]}),(0,m.jsxs)(d.Z,{item:!0,xs:12,style:{textAlign:"right",paddingTop:5},children:[(0,m.jsx)(f.Z.FormButton,{variant:"contained",color:"primary",type:"submit",size:"large",text:"Guardar"}),(0,m.jsx)(f.Z.FormButton,{variant:"contained",color:"default",size:"large",text:"Limpiar",onClick:function(){b()}})]})]})})},x=n(40490),v=n.n(x),Z=n(53838),j=n(56863),k=n(11163),y=n(8130),b=n(56155),C=n(77166),_=n(16541),I=n(11901),F=n(39615),P=n(70816),S=n.n(P),w=n(64154),T=n(98896),E=n(53321),q=n(99132),V=n(42251),A=n(51699),D=n(33743),M=function(e){var t=[{title:(0,m.jsx)(_.T,{Icon:k.Z,title:"Nombre"}),field:"name"},{title:(0,m.jsx)(_.T,{Icon:y.Z,title:"Descripci\xf3n"}),field:"description"},{title:(0,m.jsx)(_.T,{Icon:q.Z,title:"Stock Actual"}),field:"current_stock",render:function(e){return e.current_stock||"-"}},{title:(0,m.jsx)(_.T,{Icon:q.Z,title:"Stock Minimo"}),field:"minimum_stock",render:function(e){return e.minimum_stock||"-"}},{title:(0,m.jsx)(_.T,{Icon:E.Z,title:"Precio de Compra"}),field:"purchase_price",type:"currency"},{title:(0,m.jsx)(_.T,{Icon:E.Z,title:"Precio de Venta"}),field:"sale_price",type:"currency"},{title:(0,m.jsx)(_.T,{Icon:j.Z,title:"Fecha de registro"}),field:"createdAt",type:"date",defaultSort:"desc",render:function(e){return S()(e.createdAt).format("DD/MM/YYYY")}}],n=e.setOpenPopup,r=e.setRecordForEdit,o=(0,a.I0)(),c=(0,a.v9)((function(e){return e.products})),s=(0,a.v9)((function(e){return e.branches})),d=(0,a.v9)((function(e){return e.providers})),p=(0,a.v9)((function(e){return e.productCategories}));return(0,i.useEffect)((function(){0===c.length&&o((0,u.Dg)()),0===s.length&&o((0,V.Qq)()),0===d.length&&o((0,A.td)()),0===p.length&&o((0,D.IG)())}),[]),(0,m.jsx)(m.Fragment,{children:null!=c?(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(C.T,{title:"Productos"}),(0,m.jsx)(v(),{localization:F._,icons:w.P,columns:t,data:c,actions:[{icon:"save",tooltip:"Save User",onClick:function(e,t){return n(!0)},isFreeAction:!0},{icon:function(){return(0,m.jsx)(Z.Z,{style:{color:"#1380C7"}})},tooltip:"Editar producto",onClick:function(e,t){n(!0),r(t)}}],components:{Action:function(e){return(0,m.jsx)(m.Fragment,{children:"save"===e.action.icon?(0,m.jsx)(I.J,{onClick:function(t){return e.action.onClick(t,e.data)}}):(0,m.jsx)(x.MTableAction,(0,l.Z)({},e))})},Row:function(e){return(0,m.jsx)(x.MTableBodyRow,(0,l.Z)((0,l.Z)({},e),{},{onDoubleClick:function(t){n(!0),r(e.data)}}))}},options:{search:!0,draggable:!1,showTitle:!1,thirdSortClick:!1,searchFieldAlignment:"left",actionsColumnIndex:-1,searchFieldVariant:"outlined",searchFieldStyle:{margin:15},headerStyle:T.i,rowStyle:function(e,t){return{cursor:"pointer"}}}})]}):(0,m.jsx)(b.$,{})})},O=(0,o.Z)((function(e){return{pageContent:{margin:e.spacing(3),padding:e.spacing(3)},searchInput:{width:"75%"}}})),Y=function(){var e=(0,a.I0)(),t=(0,i.useState)(!1),n=(0,r.Z)(t,2),o=n[0],l=n[1],d=(0,i.useState)(null),p=(0,r.Z)(d,2),f=p[0],h=p[1];O();return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(c.Z,{children:(0,m.jsx)(M,{setOpenPopup:l,setRecordForEdit:h})}),(0,m.jsx)(s.Y,{openPopup:o,setOpenPopup:l,setRecordForEdit:h,title:"Producto",children:(0,m.jsx)(g,{recordForEdit:f,addOrEdit:function(t,n){Object.keys(t).forEach((function(e){""===t[e]&&(t[e]=null)})),0===t.id?(delete t.id,e((0,u.s2)(t))):(delete t.tableData,e((0,u.ZD)(t,t.id))),n(),h(null),l(!1)}})})]})}}}]);