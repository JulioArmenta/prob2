"use strict";(self.webpackChunk_coreui_coreui_free_react_admin_template=self.webpackChunk_coreui_coreui_free_react_admin_template||[]).push([[393],{51393:function(e,n,t){t.r(n),t.d(n,{default:function(){return A}});var i=t(29439),a=t(97241),r=t(82277),o=t(47313),s=t(1084),c=t(11916),l=t(98456),d=t(93433),u=t(1413),m=t(87913),p=t(7501),f=t(9019),h=[{id:1,values:{name:"/dashboard",description:"Dashboard"},name:"Dashboard"},{id:2,values:{name:"/catalogs/customers",description:"Pacientes"},name:"Pacientes"},{id:3,values:{name:"/catalogs/branches",description:"Sucursales"},name:"Sucursales"},{id:4,values:{name:"/catalogs/products",description:"Productos"},name:"Productos"},{id:5,values:{name:"/catalogs/products-categories",description:"Categorias de productos"},name:"Categorias de productos"},{id:6,values:{name:"/catalogs/providers",description:"Proveedores"},name:"Proveedores"},{id:7,values:{name:"/catalogs/sales",description:"Ventas"},name:"Ventas"},{id:8,values:{name:"/catalogs/calendar",description:"Calendario"},name:"Calendario"},{id:9,values:{name:"/catalogs/users",description:"Usuarios"},name:"Usuarios"},{id:10,values:{name:"/catalogs/roles",description:"Roles"},name:"Roles"}],x=t(46417),g={id:0,name:"",description:"",permissions:[]},v=function(e){var n=e.recordForEdit,t=e.addOrEdit,a=(e.cancelForm,(0,o.useState)("")),r=(0,i.Z)(a,2),s=(r[0],r[1],(0,m.c)(g)),c=s.values,l=s.setValues,v=s.handleInputChange,j=s.resetForm;(0,o.useEffect)((function(){null!=n&&(console.log(n),n.id&&l((0,u.Z)({},n)))}),[n]);return(0,x.jsx)(m.l,{onSubmit:function(e){e.preventDefault(),t(c,j)},children:(0,x.jsxs)(f.ZP,{container:!0,rowSpacing:0,columnSpacing:2,children:[(0,x.jsx)(f.ZP,{item:!0,xs:12,children:(0,x.jsx)(p.Z.FormInput,{label:"Nombre",name:"name",value:c.name,onChange:v,required:!0})}),(0,x.jsx)(f.ZP,{item:!0,xs:12,children:(0,x.jsx)(p.Z.FormInput,{label:"Descripci\xf3n",name:"description",multiline:!0,value:c.description,onChange:v,required:!0})}),(0,x.jsx)(f.ZP,{item:!0,xs:12,children:(0,x.jsx)("h4",{children:"Permisos"})}),h.map((function(e,n){return(0,x.jsx)(f.ZP,{item:!0,xs:6,sm:4,md:3,children:(0,x.jsx)(p.Z.FormCheckbox,{name:e.values.name,label:e.name,value:null!=c.permissions.find((function(n){return n.name===e.values.name})),onChange:function(n){return function(e,n){if(e.target.value)l((0,u.Z)((0,u.Z)({},c),{},{permissions:[].concat((0,d.Z)(c.permissions),[{name:e.target.name,description:n}])}));else{var t=c.permissions.filter((function(n){return n.name!=e.target.name}));l((0,u.Z)((0,u.Z)({},c),{},{permissions:t}))}}(n,e.name)}},e.id)},e.id)})),(0,x.jsxs)(f.ZP,{item:!0,xs:12,style:{textAlign:"right",paddingTop:5},children:[(0,x.jsx)(p.Z.FormButton,{variant:"contained",color:"primary",type:"submit",size:"large",text:"Guardar"}),(0,x.jsx)(p.Z.FormButton,{variant:"contained",color:"default",size:"large",text:"Limpiar",onClick:function(){j()}})]})]})})},j=t(40490),Z=t.n(j),C=t(53838),F=t(56863),b=t(8130),P=t(63185),S=t(56155),_=t(77166),k=t(16541),D=t(11901),E=t(39615),I=t(70816),R=t.n(I),y=t(64154),w=t(98896),T=function(e){var n=[{title:(0,x.jsx)(k.T,{Icon:P.Z,title:"Nombre"}),field:"name"},{title:(0,x.jsx)(k.T,{Icon:b.Z,title:"Descripci\xf3n"}),field:"description"},{title:(0,x.jsx)(k.T,{Icon:F.Z,title:"Fecha de registro"}),field:"createdAt",type:"date",defaultSort:"desc",render:function(e){return R()(e.createdAt).format("DD/MM/YYYY")}}],t=e.setOpenPopup,i=e.setRecordForEdit,a=(0,s.I0)(),r=(0,s.v9)((function(e){return e.roles}));return(0,o.useEffect)((function(){0===r.length&&a((0,c.xJ)())}),[]),(0,x.jsx)(x.Fragment,{children:null!=r?(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(_.T,{title:"Roles"}),(0,x.jsx)(Z(),{localization:E._,icons:y.P,columns:n,data:r,actions:[{icon:"save",tooltip:"Save Role",onClick:function(e,n){return t(!0)},isFreeAction:!0},{icon:function(){return(0,x.jsx)(C.Z,{style:{color:"#1380C7"}})},tooltip:"Editar paciente",onClick:function(e,n){t(!0),i(n)}}],components:{Action:function(e){return(0,x.jsx)(x.Fragment,{children:"save"===e.action.icon?(0,x.jsx)(D.J,{onClick:function(n){return e.action.onClick(n,e.data)}}):(0,x.jsx)(j.MTableAction,(0,u.Z)({},e))})},Row:function(e){return(0,x.jsx)(j.MTableBodyRow,(0,u.Z)((0,u.Z)({},e),{},{onDoubleClick:function(n){t(!0),i(e.data)}}))}},options:{search:!0,draggable:!1,showTitle:!1,thirdSortClick:!1,searchFieldAlignment:"left",actionsColumnIndex:-1,searchFieldVariant:"outlined",searchFieldStyle:{margin:15},headerStyle:w.i,rowStyle:function(e,n){return{cursor:"pointer"}}}})]}):(0,x.jsx)(S.$,{})})},z=(0,a.Z)((function(e){return{pageContent:{margin:e.spacing(3),padding:e.spacing(3)},searchInput:{width:"75%"}}})),A=function(){var e=(0,s.I0)(),n=(0,o.useState)(!1),t=(0,i.Z)(n,2),a=t[0],d=t[1],u=(0,o.useState)(null),m=(0,i.Z)(u,2),p=m[0],f=m[1];z();return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(r.Z,{children:(0,x.jsx)(T,{setOpenPopup:d,setRecordForEdit:f})}),(0,x.jsx)(l.Y,{openPopup:a,setOpenPopup:d,setRecordForEdit:f,title:"Rol",children:(0,x.jsx)(v,{recordForEdit:p,addOrEdit:function(n,t){0===n.id?(delete n.id,e((0,c.LY)(n))):(delete n.tableData,e((0,c.QX)(n,n.id))),t(),f(null),d(!1)}})})]})}},8130:function(e,n,t){var i=t(95318);n.Z=void 0;var a=i(t(45045)),r=t(46417),o=(0,a.default)((0,r.jsx)("path",{d:"M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6zm2 16H8v-2h8v2zm0-4H8v-2h8v2zm-3-5V3.5L18.5 9H13z"}),"Description");n.Z=o}}]);