"use strict";(self.webpackChunk_coreui_coreui_free_react_admin_template=self.webpackChunk_coreui_coreui_free_react_admin_template||[]).push([[380],{42251:function(e,t,n){n.d(t,{Qq:function(){return s},lq:function(){return d},yd:function(){return l}});var r=n(74165),a=n(15861),i=n(31881),o=n.n(i),c=(n(70816),n(50804)),u=n(47444),s=function(){return function(e){o().get("".concat("https://dental-app-backend.herokuapp.com","/api/branches")).then((function(t){e(m(t.data))})).catch((function(t){console.log(t),e((0,u.sT)("Ha ocurrido un problema al cargar los registros."))}))}},l=function(e){return function(){var t=(0,a.Z)((0,r.Z)().mark((function t(n){return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o().post("".concat("https://dental-app-backend.herokuapp.com","/api/branches"),e).then((function(e){n(h(e.data)),n((0,u.xM)("Registro creado con exito."))})).catch((function(e){n((0,u.sT)("Ha ocurrido un problema, favor de intentar de nuevo.")),console.log(e)}));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},d=function(e,t){return function(){var n=(0,a.Z)((0,r.Z)().mark((function n(a){return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,o().put("".concat("https://dental-app-backend.herokuapp.com","/api/branches/").concat(t),e).then((function(t){a(p(e)),a((0,u.xM)("Registro actualizado con exito."))})).catch((function(e){a((0,u.sT)("Ha ocurrido un problema, favor de intentar de nuevo.")),console.log(e)}));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},h=function(e){return{type:c.V.createBranch,payload:e}},p=function(e){return{type:c.V.updateBranch,payload:e}},m=function(e){return{type:c.V.getBranches,payload:e}}},26380:function(e,t,n){n.r(t),n.d(t,{default:function(){return N}});var r=n(29439),a=n(97241),i=n(82277),o=n(47313),c=n(1084),u=n(42251),s=n(98456),l=n(1413),d=n(21144),h=n(87913),p=n(7501),m=n(46417),v={id:0,name:"",description:"",latitude:"",longitude:"",address:"",phone:"",city:"",state:""},f=(0,a.Z)((function(e){return{}})),x=function(e){var t=e.recordForEdit,n=e.addOrEdit,r=e.cancelForm,a=(f(),(0,h.c)(v)),i=a.values,c=a.setValues,u=a.handleInputChange,s=a.resetForm;(0,o.useEffect)((function(){null!=t&&t.id&&c((0,l.Z)({},t))}),[t]);return(0,m.jsx)(h.l,{onSubmit:function(e){e.preventDefault(),n(i,s)},children:(0,m.jsxs)(d.Z,{container:!0,spacing:3,children:[(0,m.jsxs)(d.Z,{item:!0,xs:12,sm:6,children:[(0,m.jsx)(p.Z.FormInput,{label:"Nombre",name:"name",value:i.name,onChange:u,required:!0}),(0,m.jsx)(p.Z.FormInput,{label:"Descripci\xf3n",name:"description",multiline:!0,value:i.description,onChange:u,required:!0}),(0,m.jsx)(p.Z.FormInput,{label:"Latitud",type:"number",name:"latitude",value:i.latitude,onChange:u,validators:["minNumber:-90","maxNumber:90"],errorMessages:["La latitud debe ser entre -90 y 90","La latitud debe ser entre -90 y 90"]}),(0,m.jsx)(p.Z.FormInput,{label:"Longitud",type:"number",name:"longitude",value:i.longitude,onChange:u,validators:["minNumber:-180","maxNumber:180"],errorMessages:["La longitud debe ser entre -180 y 180","La longitud debe ser entre -180 y 180"]})]}),(0,m.jsxs)(d.Z,{item:!0,xs:12,sm:6,children:[(0,m.jsx)(p.Z.FormInput,{label:"Tel\xe9fono",name:"phone",value:i.phone,onChange:u,required:!0}),(0,m.jsx)(p.Z.FormInput,{label:"Direcci\xf3n",name:"address",value:i.address,onChange:u,required:!0}),(0,m.jsx)(p.Z.FormInput,{label:"Estado",name:"state",value:i.state,onChange:u,required:!0}),(0,m.jsx)(p.Z.FormInput,{label:"Ciudad",name:"city",value:i.city,onChange:u,required:!0})]}),(0,m.jsxs)(d.Z,{item:!0,xs:12,style:{textAlign:"right",paddingTop:5},children:[(0,m.jsx)(p.Z.FormButton,{variant:"text",color:"default",size:"large",text:"Cancelar",onClick:function(){r(s)}}),(0,m.jsx)(p.Z.FormButton,{variant:"contained",color:"primary",type:"submit",size:"large",text:"Guardar"})]})]})})},g=n(40490),Z=n.n(g),j=n(61091),b=n(63232),z=n(56863),y=n(52185),F=n(8130),V=n(64676),H=n(20647),C=n(56155),I=n(77166),T=n(16541),k=(n(11901),n(39615)),M=n(70816),_=n.n(M),E=n(64154),L=n(98896),q=n(43619),S=n(58228),w=n(40671),D=function(e){var t=[{title:(0,m.jsx)(T.T,{Icon:V.Z,title:"Nombre"}),field:"name"},{title:(0,m.jsx)(T.T,{Icon:F.Z,title:"Descripci\xf3n"}),field:"description"},{title:(0,m.jsx)(T.T,{Icon:H.Z,title:"Direcci\xf3n"}),field:"address"},{title:(0,m.jsx)(T.T,{Icon:j.Z,title:"Tel\xe9fono"}),field:"phone"},{title:(0,m.jsx)(T.T,{Icon:y.Z,title:"Ciudad"}),field:"city"},{title:(0,m.jsx)(T.T,{Icon:b.Z,title:"Estado"}),field:"state"},{title:(0,m.jsx)(T.T,{Icon:z.Z,title:"Fecha de registro"}),field:"createdAt",type:"date",defaultSort:"desc",render:function(e){return _()(e.createdAt).format("DD/MM/YYYY")}}],n=e.setOpenPopup,r=e.setRecordForEdit,a=(0,c.I0)(),i=(0,c.v9)((function(e){return e.branches}));return(0,o.useEffect)((function(){0===i.length&&a((0,u.Qq)())}),[]),(0,o.useMemo)((function(){return(0,m.jsx)(m.Fragment,{children:null!=i?(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(I.T,{title:"Sucursales"}),(0,m.jsx)(Z(),{localization:k._,icons:E.P,columns:t,data:i,actions:(0,S.Z)("Editar Sucursal",u.lq,n,r,a),components:(0,q.Z)(n,r),options:{search:!0,draggable:!1,showTitle:!1,thirdSortClick:!1,searchFieldAlignment:"left",actionsColumnIndex:-1,searchFieldVariant:"outlined",searchFieldStyle:{margin:15},headerStyle:L.i,rowStyle:w.Z}})]}):(0,m.jsx)(C.$,{})})}),[i])},B=(0,a.Z)((function(e){return{pageContent:{margin:e.spacing(3),padding:e.spacing(3)},searchInput:{width:"75%"}}})),N=function(){var e=(0,c.I0)(),t=(0,o.useState)(!1),n=(0,r.Z)(t,2),a=n[0],l=n[1],d=(0,o.useState)(null),h=(0,r.Z)(d,2),p=h[0],v=h[1];B();return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(i.Z,{children:(0,m.jsx)(D,{setOpenPopup:l,setRecordForEdit:v})}),(0,m.jsx)(s.Y,{openPopup:a,setOpenPopup:l,setRecordForEdit:v,title:"Sucursal",children:(0,m.jsx)(x,{recordForEdit:p,addOrEdit:function(t,n){0===t.id?(delete t.id,e((0,u.yd)(t))):(delete t.tableData,e((0,u.lq)(t,t.id))),n(),v(null),l(!1)},cancelForm:function(e){e(),v(null),l(!1)}})})]})}},64676:function(e,t,n){var r=n(95318);t.Z=void 0;var a=r(n(45045)),i=n(46417),o=(0,a.default)((0,i.jsx)("path",{d:"M12 7V3H2v18h20V7H12zM6 19H4v-2h2v2zm0-4H4v-2h2v2zm0-4H4V9h2v2zm0-4H4V5h2v2zm4 12H8v-2h2v2zm0-4H8v-2h2v2zm0-4H8V9h2v2zm0-4H8V5h2v2zm10 12h-8v-2h2v-2h-2v-2h2v-2h-2V9h8v10zm-2-8h-2v2h2v-2zm0 4h-2v2h2v-2z"}),"Business");t.Z=o},8130:function(e,t,n){var r=n(95318);t.Z=void 0;var a=r(n(45045)),i=n(46417),o=(0,a.default)((0,i.jsx)("path",{d:"M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6zm2 16H8v-2h8v2zm0-4H8v-2h8v2zm-3-5V3.5L18.5 9H13z"}),"Description");t.Z=o},52185:function(e,t,n){var r=n(95318);t.Z=void 0;var a=r(n(45045)),i=n(46417),o=(0,a.default)((0,i.jsx)("path",{d:"M15 11V5l-3-3-3 3v2H3v14h18V11h-6zm-8 8H5v-2h2v2zm0-4H5v-2h2v2zm0-4H5V9h2v2zm6 8h-2v-2h2v2zm0-4h-2v-2h2v2zm0-4h-2V9h2v2zm0-4h-2V5h2v2zm6 12h-2v-2h2v2zm0-4h-2v-2h2v2z"}),"LocationCity");t.Z=o},20647:function(e,t,n){var r=n(95318);t.Z=void 0;var a=r(n(45045)),i=n(46417),o=(0,a.default)((0,i.jsx)("path",{d:"M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z"}),"LocationOn");t.Z=o},63232:function(e,t,n){var r=n(95318);t.Z=void 0;var a=r(n(45045)),i=n(46417),o=(0,a.default)((0,i.jsx)("path",{d:"m20.5 3-.16.03L15 5.1 9 3 3.36 4.9c-.21.07-.36.25-.36.48V20.5c0 .28.22.5.5.5l.16-.03L9 18.9l6 2.1 5.64-1.9c.21-.07.36-.25.36-.48V3.5c0-.28-.22-.5-.5-.5zM15 19l-6-2.11V5l6 2.11V19z"}),"Map");t.Z=o}}]);