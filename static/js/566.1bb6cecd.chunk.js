"use strict";(self.webpackChunk_coreui_coreui_free_react_admin_template=self.webpackChunk_coreui_coreui_free_react_admin_template||[]).push([[566],{21319:function(n,t,e){e.d(t,{Qq:function(){return i},lq:function(){return p},yd:function(){return s}});var r=e(74165),c=e(15861),o=e(74569),a=e.n(o),u=(e(72426),e(99734)),i=function(){return function(n){a().get("".concat("https://dental-app-backend.herokuapp.com","/api/branches")).then((function(t){console.log(t),n(f(t.data))})).catch((function(n){console.log(n)}))}},s=function(n){return function(){var t=(0,c.Z)((0,r.Z)().mark((function t(e){return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a().post("".concat("https://dental-app-backend.herokuapp.com","/api/branches"),n).then((function(n){e(l(n.data))})).catch((function(n){console.log(n)}));case 2:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}()},p=function(n,t){return function(){var e=(0,c.Z)((0,r.Z)().mark((function e(c){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a().put("".concat("https://dental-app-backend.herokuapp.com","/api/branches/").concat(t),n).then((function(t){c(d(n))})).catch((function(n){console.log(n)}));case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()},l=function(n){return{type:u.V.createBranch,payload:n}},d=function(n){return{type:u.V.updateBranch,payload:n}},f=function(n){return{type:u.V.getBranches,payload:n}}},83795:function(n,t,e){e.d(t,{Dg:function(){return i},ZD:function(){return p},s2:function(){return s}});var r=e(74165),c=e(15861),o=e(74569),a=e.n(o),u=(e(72426),e(99734)),i=function(){return function(n){a().get("".concat("https://dental-app-backend.herokuapp.com","/api/products")).then((function(t){console.log(t),n(f(t.data))})).catch((function(n){console.log(n)}))}},s=function(n){return function(){var t=(0,c.Z)((0,r.Z)().mark((function t(e){return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a().post("".concat("https://dental-app-backend.herokuapp.com","/api/products"),n).then((function(n){e(l(n.data))})).catch((function(n){console.log(n)}));case 2:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}()},p=function(n,t){return function(){var e=(0,c.Z)((0,r.Z)().mark((function e(c){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a().put("".concat("https://dental-app-backend.herokuapp.com","/api/products/").concat(t),n).then((function(t){c(d(n))})).catch((function(n){console.log(n)}));case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()},l=function(n){return{type:u.V.createProduct,payload:n}},d=function(n){return{type:u.V.updateProduct,payload:n}},f=function(n){return{type:u.V.getProducts,payload:n}}},30812:function(n,t,e){e.d(t,{Ic:function(){return s},td:function(){return i},yY:function(){return p}});var r=e(74165),c=e(15861),o=e(74569),a=e.n(o),u=e(99734),i=function(){return function(n){a().get("".concat("https://dental-app-backend.herokuapp.com","/api/providers")).then((function(t){console.log(t),n(f(t.data))})).catch((function(n){console.log(n)}))}},s=function(n){return function(){var t=(0,c.Z)((0,r.Z)().mark((function t(e){return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a().post("".concat("https://dental-app-backend.herokuapp.com","/api/providers"),n).then((function(n){e(l(n.data))})).catch((function(n){console.log(n)}));case 2:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}()},p=function(n,t){return function(){var e=(0,c.Z)((0,r.Z)().mark((function e(c){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a().put("".concat("https://dental-app-backend.herokuapp.com","/api/providers/").concat(t),n).then((function(t){c(d(n))})).catch((function(n){console.log(n)}));case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()},l=function(n){return{type:u.V.createProvider,payload:n}},d=function(n){return{type:u.V.updateProvider,payload:n}},f=function(n){return{type:u.V.getProviders,payload:n}}},81566:function(n,t,e){e.r(t),e.d(t,{default:function(){return M}});var r=e(29439),c=e(38596),o=e(89526),a=e(72791),u=e(60364),i=e(83795),s=e(13365),p=e(1413),l=e(1288),d=e(19737),f=e(96986),h=(e(79504),e(80184)),m={id:0,name:"",description:"",minimum_stock:"",current_stock:"",purchase_price:"",sale_price:"",branchId:"",productCategoryId:"",providerId:""},g=function(n){var t=n.recordForEdit,e=n.addOrEdit,c=n.cancelForm,o=(0,u.v9)((function(n){return n.branches})),i=(0,u.v9)((function(n){return n.providers})),s=(0,u.v9)((function(n){return n.productCategories})),g=(0,a.useState)(!0),x=(0,r.Z)(g,2),v=x[0],Z=x[1],y=(0,d.c)(m),k=y.values,b=y.setValues,j=y.handleInputChange,_=y.resetForm;(0,a.useEffect)((function(){null!=t&&(t.id?(b((0,p.Z)({},t)),1!==t.productCategoryId&&Z(!1)):Z(!0))}),[t]);return(0,h.jsx)(d.l,{onSubmit:function(n){n.preventDefault(),e(k,_)},children:(0,h.jsxs)(l.Z,{container:!0,spacing:3,children:[(0,h.jsxs)(l.Z,{item:!0,xs:12,sm:6,children:[(0,h.jsx)(f.Z.FormInput,{label:"Nombre",name:"name",value:k.name,onChange:j,required:!0}),(0,h.jsx)(f.Z.FormInput,{label:"Descripci\xf3n",name:"description",value:k.description,onChange:j,required:!0}),(0,h.jsx)(f.Z.FormSelect,{name:"productCategoryId",label:"Categoria Producto",value:k.productCategoryId,onChange:function(n){j(n),1!==n.target.value?Z(!1):Z(!0)},items:null!==t&&void 0!==t&&t.id?s:s.filter((function(n){return n.status})),required:!0}),(0,h.jsxs)(l.Z,{container:!0,spacing:1,children:[(0,h.jsx)(l.Z,{item:!0,xs:6,sm:6,children:(0,h.jsx)(f.Z.FormInput,{label:"Stock Actual",name:"current_stock",value:k.current_stock||"",onChange:j,type:"number",required:v})}),(0,h.jsx)(l.Z,{item:!0,xs:6,sm:6,children:(0,h.jsx)(f.Z.FormInput,{label:"Stock Minimo",name:"minimum_stock",value:k.minimum_stock||"",onChange:j,type:"number",required:v})})]})]}),(0,h.jsxs)(l.Z,{item:!0,xs:12,sm:6,children:[(0,h.jsx)(f.Z.FormSelect,{name:"branchId",label:"Sucursal",value:k.branchId,onChange:j,items:null!==t&&void 0!==t&&t.id?o:o.filter((function(n){return n.status})),required:!0}),(0,h.jsx)(f.Z.FormSelect,{name:"providerId",label:"Proveedor",value:k.providerId||"",onChange:j,items:null!==t&&void 0!==t&&t.id?i:i.filter((function(n){return n.status})),required:v}),(0,h.jsx)(f.Z.FormInput,{label:"Precio de Compra",name:"purchase_price",value:k.purchase_price||"",onChange:j,type:"number",required:v}),(0,h.jsx)(f.Z.FormInput,{label:"Precio de Venta",name:"sale_price",value:k.sale_price,onChange:j,type:"number",required:!0})]}),(0,h.jsxs)(l.Z,{item:!0,xs:12,style:{textAlign:"right",paddingTop:5},children:[(0,h.jsx)(f.Z.FormButton,{variant:"text",color:"default",size:"large",text:"Cancelar",onClick:function(){c(_)}}),(0,h.jsx)(f.Z.FormButton,{variant:"contained",color:"primary",type:"submit",size:"large",text:"Guardar"})]})]})})},x=e(15617),v=e.n(x),Z=e(20376),y=e(40501),k=e(39568),b=e(8737),j=e(32818),_=e(5197),I=(e(50872),e(4379)),F=e(72426),C=e.n(F),P=e(28796),w=e(70574),S=e(46154),V=e(39122),q=e(21319),D=e(30812),E=e(96247),T=e(92971),A=e(28881),O=e(60132),Y=function(n){var t=[{title:(0,h.jsx)(_.T,{Icon:y.Z,title:"Nombre"}),field:"name"},{title:(0,h.jsx)(_.T,{Icon:k.Z,title:"Descripci\xf3n"}),field:"description"},{title:(0,h.jsx)(_.T,{Icon:V.Z,title:"Stock Actual"}),field:"current_stock",render:function(n){return n.current_stock||"-"}},{title:(0,h.jsx)(_.T,{Icon:V.Z,title:"Stock Minimo"}),field:"minimum_stock",render:function(n){return n.minimum_stock||"-"}},{title:(0,h.jsx)(_.T,{Icon:S.Z,title:"Precio de Compra"}),field:"purchase_price",type:"currency"},{title:(0,h.jsx)(_.T,{Icon:S.Z,title:"Precio de Venta"}),field:"sale_price",type:"currency"},{title:(0,h.jsx)(_.T,{Icon:Z.Z,title:"Fecha de registro"}),field:"createdAt",type:"date",defaultSort:"desc",render:function(n){return C()(n.createdAt).format("DD/MM/YYYY")}}],e=n.setOpenPopup,r=n.setRecordForEdit,c=(0,u.I0)(),o=(0,u.v9)((function(n){return n.products})),s=(0,u.v9)((function(n){return n.branches})),p=(0,u.v9)((function(n){return n.providers})),l=(0,u.v9)((function(n){return n.productCategories}));return(0,a.useEffect)((function(){0===o.length&&c((0,i.Dg)()),0===s.length&&c((0,q.Qq)()),0===p.length&&c((0,D.td)()),0===l.length&&c((0,E.IG)())}),[]),(0,a.useMemo)((function(){return(0,h.jsx)(h.Fragment,{children:null!=o?(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(j.T,{title:"Productos"}),(0,h.jsx)(v(),{localization:I._,icons:P.P,columns:t,data:o,actions:(0,A.Z)("Editar Producto",i.ZD,e,r,c),components:(0,T.Z)(e,r),options:{search:!0,draggable:!1,showTitle:!1,thirdSortClick:!1,searchFieldAlignment:"left",actionsColumnIndex:-1,searchFieldVariant:"outlined",searchFieldStyle:{margin:15},headerStyle:w.i,rowStyle:O.Z}})]}):(0,h.jsx)(b.$,{})})}),[o])},B=(0,c.Z)((function(n){return{pageContent:{margin:n.spacing(3),padding:n.spacing(3)},searchInput:{width:"75%"}}})),M=function(){var n=(0,u.I0)(),t=(0,a.useState)(!1),e=(0,r.Z)(t,2),c=e[0],p=e[1],l=(0,a.useState)(null),d=(0,r.Z)(l,2),f=d[0],m=d[1],x=(B(),function(n){m(null),n(),p(!1)});return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(o.Z,{children:(0,h.jsx)(Y,{setOpenPopup:p,setRecordForEdit:m})}),(0,h.jsx)(s.Y,{openPopup:c,setOpenPopup:p,setRecordForEdit:m,cancelForm:x,title:"Producto",children:(0,h.jsx)(g,{recordForEdit:f,addOrEdit:function(t,e){Object.keys(t).forEach((function(n){""===t[n]&&(t[n]=null)})),0===t.id?(delete t.id,n((0,i.s2)(t))):(delete t.tableData,n((0,i.ZD)(t,t.id))),e(),m(null),p(!1)},cancelForm:x})})]})}}}]);
//# sourceMappingURL=566.1bb6cecd.chunk.js.map