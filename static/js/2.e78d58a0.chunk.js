"use strict";(self.webpackChunk_coreui_coreui_free_react_admin_template=self.webpackChunk_coreui_coreui_free_react_admin_template||[]).push([[2],{42251:function(e,n,t){t.d(n,{Qq:function(){return u},lq:function(){return l},yd:function(){return s}});var r=t(74165),a=t(15861),o=t(31881),c=t.n(o),i=(t(70816),t(50804)),u=function(){return function(e){c().get("https://dental-app-backend.herokuapp.com/api/branches").then((function(n){console.log(n),e(h(n.data))})).catch((function(e){console.log(e)}))}},s=function(e){return function(){var n=(0,a.Z)((0,r.Z)().mark((function n(t){return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,c().post("https://dental-app-backend.herokuapp.com/api/branches",e).then((function(e){t(d(e.data))})).catch((function(e){console.log(e)}));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},l=function(e,n){return function(){var t=(0,a.Z)((0,r.Z)().mark((function t(a){return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c().put("https://dental-app-backend.herokuapp.com/api/branches/".concat(n),e).then((function(n){a(p(e))})).catch((function(e){console.log(e)}));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},d=function(e){return{type:i.V.createBranch,payload:e}},p=function(e){return{type:i.V.updateBranch,payload:e}},h=function(e){return{type:i.V.getBranches,payload:e}}},84002:function(e,n,t){t.r(n),t.d(n,{default:function(){return N}});var r=t(29439),a=t(97241),o=t(82277),c=t(47313),i=t(1084),u=t(74165),s=t(15861),l=t(31881),d=t.n(l),p=t(50804),h=function(e){return{type:p.V.createUser,payload:e}},f=function(e){return{type:p.V.updateUser,payload:e}},m=function(e){return{type:p.V.getUsers,payload:e}},v=t(98456),x=t(1413),Z=t(87913),g=t(7501),j=t(9019),b=t(46417),k={id:0,name:"",lastname:"",roleId:"",branchId:"",phone:"",email:"",password:"",birth_date:new Date,address:""},F=function(e){var n=e.recordForEdit,t=e.addOrEdit,r=(e.cancelForm,(0,Z.c)(k)),a=r.values,o=r.setValues,u=r.handleInputChange,s=r.resetForm,l=(0,i.v9)((function(e){return e.branches})),d=(0,i.v9)((function(e){return e.roles}));(0,c.useEffect)((function(){null!=n&&(console.log(n),n.id&&o((0,x.Z)({},n)))}),[n]);return(0,b.jsx)(Z.l,{onSubmit:function(e){e.preventDefault(),t(a,s)},children:(0,b.jsxs)(j.ZP,{container:!0,rowSpacing:0,columnSpacing:2,children:[(0,b.jsx)(j.ZP,{item:!0,xs:6,sm:3,children:(0,b.jsx)(g.Z.FormInput,{label:"Nombre",name:"name",value:a.name,onChange:u,required:!0})}),(0,b.jsx)(j.ZP,{item:!0,xs:6,sm:3,children:(0,b.jsx)(g.Z.FormInput,{label:"Apellido(s)",name:"lastname",value:a.lastname,onChange:u,required:!0})}),(0,b.jsx)(j.ZP,{item:!0,xs:12,sm:6,children:(0,b.jsx)(g.Z.FormSelect,{name:"branchId",label:"Sucursal",value:a.branchId,onChange:u,items:l,required:!0})}),(0,b.jsxs)(j.ZP,{item:!0,xs:12,sm:6,children:[(0,b.jsx)(g.Z.FormInput,{label:"Tel\xe9fono",name:"phone",value:a.phone,onChange:u,required:!0}),(0,b.jsx)(g.Z.FormInput,{label:"Direcci\xf3n",name:"address",value:a.address,onChange:u,required:!0}),(0,b.jsx)(g.Z.FormDatePicker,{name:"birth_date",label:"Fecha de nacimiento",value:a.birth_date,onChange:u,required:!0})]}),(0,b.jsxs)(j.ZP,{item:!0,xs:12,sm:6,children:[(0,b.jsx)(g.Z.FormSelect,{name:"roleId",label:"Rol",value:a.roleId,onChange:u,items:d,required:!0}),(0,b.jsx)(g.Z.FormInput,{label:"Correo electronico",name:"email",value:a.email,onChange:u,validators:["isEmail"],errorMessages:["Ingresar email v\xe1lido"],required:!0}),(0,b.jsx)(g.Z.FormInput,{label:"Contrase\xf1a",name:"password",value:a.password,onChange:u,required:!0,disabled:n&&!0})]}),(0,b.jsxs)(j.ZP,{item:!0,xs:12,style:{textAlign:"right",paddingTop:5},children:[(0,b.jsx)(g.Z.FormButton,{variant:"contained",color:"primary",type:"submit",size:"large",text:"Guardar"}),(0,b.jsx)(g.Z.FormButton,{variant:"contained",color:"default",size:"large",text:"Limpiar",onClick:function(){s()}})]})]})})},y=t(40490),z=t.n(y),C=t(53838),I=t(61091),w=t(79632),V=t(56863),P=t(11163),S=t(50884),_=t(63185),T=t(64676),E=t(56155),q=t(77166),H=t(16541),M=t(11901),A=t(39615),D=t(70816),B=t.n(D),R=t(64154),U=t(98896),O=t(42251),Y=t(11916),L=function(e){var n=[{title:(0,b.jsx)(H.T,{Icon:P.Z,title:"Nombre"}),field:"name"},{title:(0,b.jsx)(H.T,{Icon:S.Z,title:"Apellido(s)"}),field:"lastname"},{title:(0,b.jsx)(H.T,{Icon:_.Z,title:"Rol"}),field:"role.name"},{title:(0,b.jsx)(H.T,{Icon:T.Z,title:"Sucursal"}),field:"branch.name"},{title:(0,b.jsx)(H.T,{Icon:I.Z,title:"Tel\xe9fono"}),field:"phone"},{title:(0,b.jsx)(H.T,{Icon:w.Z,title:"Correo Electronico"}),field:"email"},{title:(0,b.jsx)(H.T,{Icon:V.Z,title:"Fecha de registro"}),field:"createdAt",type:"date",defaultSort:"desc",render:function(e){return B()(e.createdAt).format("DD/MM/YYYY")}}],t=e.setOpenPopup,r=e.setRecordForEdit,a=(0,i.I0)(),o=(0,i.v9)((function(e){return e.users})),l=(0,i.v9)((function(e){return e.roles})),p=(0,i.v9)((function(e){return e.branches}));return(0,c.useEffect)((function(){0===l.length&&a((0,Y.xJ)()),0===p.length&&a((0,O.Qq)()),0===o.length&&a(function(){var e=(0,s.Z)((0,u.Z)().mark((function e(n){return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d().get("https://dental-app-backend.herokuapp.com/api/users").then((function(e){console.log(e),n(m(e.data))})).catch((function(e){console.log(e)}));case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}())}),[]),(0,b.jsx)(b.Fragment,{children:null!=o?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(q.T,{title:"Usuarios"}),(0,b.jsx)(z(),{localization:A._,icons:R.P,columns:n,data:o,actions:[{icon:"save",tooltip:"Save User",onClick:function(e,n){return t(!0)},isFreeAction:!0},{icon:function(){return(0,b.jsx)(C.Z,{style:{color:"#1380C7"}})},tooltip:"Editar paciente",onClick:function(e,n){t(!0),r(n)}}],components:{Action:function(e){return(0,b.jsx)(b.Fragment,{children:"save"===e.action.icon?(0,b.jsx)(M.J,{onClick:function(n){return e.action.onClick(n,e.data)}}):(0,b.jsx)(y.MTableAction,(0,x.Z)({},e))})},Row:function(e){return(0,b.jsx)(y.MTableBodyRow,(0,x.Z)((0,x.Z)({},e),{},{onDoubleClick:function(n){t(!0),r(e.data)}}))}},options:{search:!0,draggable:!1,showTitle:!1,thirdSortClick:!1,searchFieldAlignment:"left",actionsColumnIndex:-1,searchFieldVariant:"outlined",searchFieldStyle:{margin:15},headerStyle:U.i,rowStyle:function(e,n){return{cursor:"pointer"}}}})]}):(0,b.jsx)(E.$,{})})},J=(0,a.Z)((function(e){return{pageContent:{margin:e.spacing(3),padding:e.spacing(3)},searchInput:{width:"75%"}}})),N=function(){var e=(0,i.I0)(),n=(0,c.useState)(!1),t=(0,r.Z)(n,2),a=t[0],l=t[1],p=(0,c.useState)(null),m=(0,r.Z)(p,2),x=m[0],Z=m[1];J();return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(o.Z,{children:(0,b.jsx)(L,{setOpenPopup:l,setRecordForEdit:Z})}),(0,b.jsx)(v.Y,{openPopup:a,setOpenPopup:l,setRecordForEdit:Z,title:"Usuario",children:(0,b.jsx)(F,{recordForEdit:x,addOrEdit:function(n,t){0===n.id?(delete n.id,e(function(e){return function(){var n=(0,s.Z)((0,u.Z)().mark((function n(t){return(0,u.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,d().post("https://dental-app-backend.herokuapp.com/api/users",e).then((function(e){t(h(e.data))})).catch((function(e){console.log(e)}));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}(n))):(delete n.tableData,e(function(e,n){return function(){var t=(0,s.Z)((0,u.Z)().mark((function t(r){return(0,u.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,d().put("https://dental-app-backend.herokuapp.com/api/users/".concat(n),e).then((function(n){r(f(e))})).catch((function(e){console.log(e)}));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(n,n.id))),t(),Z(null),l(!1)}})})]})}},64676:function(e,n,t){var r=t(95318);n.Z=void 0;var a=r(t(45045)),o=t(46417),c=(0,a.default)((0,o.jsx)("path",{d:"M12 7V3H2v18h20V7H12zM6 19H4v-2h2v2zm0-4H4v-2h2v2zm0-4H4V9h2v2zm0-4H4V5h2v2zm4 12H8v-2h2v2zm0-4H8v-2h2v2zm0-4H8V9h2v2zm0-4H8V5h2v2zm10 12h-8v-2h2v-2h-2v-2h2v-2h-2V9h8v10zm-2-8h-2v2h2v-2zm0 4h-2v2h2v-2z"}),"Business");n.Z=c},79632:function(e,n,t){var r=t(95318);n.Z=void 0;var a=r(t(45045)),o=t(46417),c=(0,a.default)((0,o.jsx)("path",{d:"M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 4-8 5-8-5V6l8 5 8-5v2z"}),"Email");n.Z=c},61091:function(e,n,t){var r=t(95318);n.Z=void 0;var a=r(t(45045)),o=t(46417),c=(0,a.default)((0,o.jsx)("path",{d:"M6.62 10.79c1.44 2.83 3.76 5.14 6.59 6.59l2.2-2.2c.27-.27.67-.36 1.02-.24 1.12.37 2.33.57 3.57.57.55 0 1 .45 1 1V20c0 .55-.45 1-1 1-9.39 0-17-7.61-17-17 0-.55.45-1 1-1h3.5c.55 0 1 .45 1 1 0 1.25.2 2.45.57 3.57.11.35.03.74-.25 1.02l-2.2 2.2z"}),"LocalPhone");n.Z=c},11163:function(e,n,t){var r=t(95318);n.Z=void 0;var a=r(t(45045)),o=t(46417),c=(0,a.default)((0,o.jsx)("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}),"Person");n.Z=c},50884:function(e,n,t){var r=t(95318);n.Z=void 0;var a=r(t(45045)),o=t(46417),c=(0,a.default)((0,o.jsx)("path",{d:"M13 8c0-2.21-1.79-4-4-4S5 5.79 5 8s1.79 4 4 4 4-1.79 4-4zm-2 0c0 1.1-.9 2-2 2s-2-.9-2-2 .9-2 2-2 2 .9 2 2zM1 18v2h16v-2c0-2.66-5.33-4-8-4s-8 1.34-8 4zm2 0c.2-.71 3.3-2 6-2 2.69 0 5.78 1.28 6 2H3zm17-3v-3h3v-2h-3V7h-2v3h-3v2h3v3h2z"}),"PersonAddAlt");n.Z=c}}]);