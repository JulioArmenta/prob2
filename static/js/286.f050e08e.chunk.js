"use strict";(self.webpackChunk_coreui_coreui_free_react_admin_template=self.webpackChunk_coreui_coreui_free_react_admin_template||[]).push([[286],{21319:function(n,e,t){t.d(e,{Qq:function(){return u},lq:function(){return s},yd:function(){return l}});var r=t(74165),o=t(15861),i=t(74569),a=t.n(i),c=(t(72426),t(99734)),u=function(){return function(n){a().get("".concat("https://dental-app-backend.herokuapp.com","/api/branches")).then((function(e){console.log(e),n(p(e.data))})).catch((function(n){console.log(n)}))}},l=function(n){return function(){var e=(0,o.Z)((0,r.Z)().mark((function e(t){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a().post("".concat("https://dental-app-backend.herokuapp.com","/api/branches"),n).then((function(n){t(d(n.data))})).catch((function(n){console.log(n)}));case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()},s=function(n,e){return function(){var t=(0,o.Z)((0,r.Z)().mark((function t(o){return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a().put("".concat("https://dental-app-backend.herokuapp.com","/api/branches/").concat(e),n).then((function(e){o(f(n))})).catch((function(n){console.log(n)}));case 2:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}()},d=function(n){return{type:c.V.createBranch,payload:n}},f=function(n){return{type:c.V.updateBranch,payload:n}},p=function(n){return{type:c.V.getBranches,payload:n}}},97056:function(n,e,t){t.d(e,{JL:function(){return u},Mz:function(){return s},gj:function(){return l}});var r=t(74165),o=t(15861),i=t(74569),a=t.n(i),c=(t(72426),t(99734)),u=function(){return function(n){a().get("".concat("https://dental-app-backend.herokuapp.com","/api/customers")).then((function(e){console.log(e),n(p(e.data))})).catch((function(n){console.log(n)}))}},l=function(n){return function(){var e=(0,o.Z)((0,r.Z)().mark((function e(t){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a().post("".concat("https://dental-app-backend.herokuapp.com","/api/customers"),n).then((function(n){t(d(n.data))})).catch((function(n){console.log(n)}));case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()},s=function(n,e){return function(){var t=(0,o.Z)((0,r.Z)().mark((function t(o){return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a().put("".concat("https://dental-app-backend.herokuapp.com","/api/customers/").concat(e),n).then((function(e){o(f(n))})).catch((function(n){console.log(n)}));case 2:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}()},d=function(n){return{type:c.V.createCustomer,payload:n}},f=function(n){return{type:c.V.updateCustomer,payload:n}},p=function(n){return{type:c.V.getCustomers,payload:n}}},83795:function(n,e,t){t.d(e,{Dg:function(){return u},ZD:function(){return s},s2:function(){return l}});var r=t(74165),o=t(15861),i=t(74569),a=t.n(i),c=(t(72426),t(99734)),u=function(){return function(n){a().get("".concat("https://dental-app-backend.herokuapp.com","/api/products")).then((function(e){console.log(e),n(p(e.data))})).catch((function(n){console.log(n)}))}},l=function(n){return function(){var e=(0,o.Z)((0,r.Z)().mark((function e(t){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a().post("".concat("https://dental-app-backend.herokuapp.com","/api/products"),n).then((function(n){t(d(n.data))})).catch((function(n){console.log(n)}));case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()},s=function(n,e){return function(){var t=(0,o.Z)((0,r.Z)().mark((function t(o){return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a().put("".concat("https://dental-app-backend.herokuapp.com","/api/products/").concat(e),n).then((function(e){o(f(n))})).catch((function(n){console.log(n)}));case 2:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}()},d=function(n){return{type:c.V.createProduct,payload:n}},f=function(n){return{type:c.V.updateProduct,payload:n}},p=function(n){return{type:c.V.getProducts,payload:n}}},19737:function(n,e,t){t.d(e,{c:function(){return f},l:function(){return h}});var r=t(45987),o=t(4942),i=t(1413),a=t(29439),c=t(38596),u=t(72791),l=t(10838),s=t(80184),d=["children"],f=function(n){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],t=arguments.length>2?arguments[2]:void 0,r=(0,u.useState)(n),c=(0,a.Z)(r,2),l=c[0],s=c[1],d=(0,u.useState)({}),f=(0,a.Z)(d,2),p=f[0],h=f[1],x=function(n){var r=n.target,a=r.name,c=r.value;s((0,i.Z)((0,i.Z)({},l),{},(0,o.Z)({},a,c))),e&&t((0,o.Z)({},a,c))},Z=function(){s(n),h({})};return{values:l,setValues:s,handleInputChange:x,resetForm:Z,errors:p,setErrors:h}},p=(0,c.Z)((function(n){return{root:{"& .MuiFormControl-root":{width:"100%",marginTop:n.spacing(2),marginBottom:n.spacing(2)}}}}));function h(n){var e=p(),t=n.children,o=(0,r.Z)(n,d);return(0,s.jsx)(l.WS,(0,i.Z)((0,i.Z)({className:e.root},o),{},{children:t}))}},63286:function(n,e,t){t.r(e),t.d(e,{default:function(){return Cn}});var r=t(29439),o=t(38596),i=t(89526),a=t(55646),c=t(94070),u=t(72791),l=t(60364),s=t(74165),d=t(15861),f=t(74569),p=t.n(f),h=t(99734),x=function(n,e){return function(){var t=(0,d.Z)((0,s.Z)().mark((function t(r){return(0,s.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,p().put("".concat("https://dental-app-backend.herokuapp.com","/api/sales/").concat(e),n).then((function(e){r(g(n))})).catch((function(n){console.log(n)}));case 2:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}()},Z=function(n){return{type:h.V.createSale,payload:n}},g=function(n){return{type:h.V.updateSale,payload:n}},m=function(n){return{type:h.V.getSales,payload:n}},j=t(13365),v=t(1413),b=t(61889),y=t(94721),C=t(66809),k=t(19737),w=t(96986),S=t(14868),F=t(93006),I=t(13400),P=t(93433),R=t(42419),A=t(1288),_=t(79836),D=t(53382),E=t(53994),V=t(39281),T=t(56890),q=t(35855),z=t(10703),W=t(42953),O=t(80184);function L(n){return"$".concat(n.toFixed(2))}function M(n){var e=n.values,t=(0,l.v9)((function(n){return n.products})),r=(0,W.Z)((function(n){return{root:{fontWeight:"bold"}}}))(E.Z),o=(0,W.Z)((function(n){return{root:{fontWeight:"bold",fontSize:"17px"}}}))(E.Z);return 0!==e.sale_details.length?(0,O.jsx)(z.Z,{sx:{width:"100%",overflow:"hidden"},children:(0,O.jsx)(V.Z,{children:(0,O.jsxs)(_.Z,{children:[(0,O.jsxs)(T.Z,{children:[(0,O.jsxs)(q.Z,{style:{backgroundColor:"rgba(88,183,244,0.5)"},children:[(0,O.jsx)(o,{align:"center",colSpan:4,children:"Detalle"}),(0,O.jsx)(o,{align:"right",children:"Precio"})]}),(0,O.jsxs)(q.Z,{children:[(0,O.jsx)(r,{children:"Descripci\xf3n"}),(0,O.jsx)(r,{align:"right",children:"Cantidad"}),(0,O.jsx)(r,{align:"right",children:"Precio Unitario"}),(0,O.jsx)(r,{align:"right",children:"Descuento"}),(0,O.jsx)(r,{align:"right",children:"Suma"})]})]}),(0,O.jsxs)(D.Z,{children:[e.sale_details.map((function(n,e){return(0,O.jsxs)(q.Z,{tabIndex:-1,children:[(0,O.jsx)(E.Z,{children:t.find((function(e){return e.id==n.productId})).name}),(0,O.jsx)(E.Z,{align:"right",children:n.quantity}),(0,O.jsx)(E.Z,{align:"right",children:L(n.price)}),(0,O.jsx)(E.Z,{align:"right",children:n.discount?"".concat(n.discount,"%"):"-"}),(0,O.jsx)(E.Z,{align:"right",children:L((r=n.quantity,o=n.price,i=n.discount,i?r*o-r*o*(i/100):r*o))})]},e);var r,o,i})),(0,O.jsxs)(q.Z,{children:[(0,O.jsx)(E.Z,{rowSpan:3}),(0,O.jsx)(r,{colSpan:2,align:"right",children:"Subtotal"}),(0,O.jsx)(E.Z,{colSpan:1}),(0,O.jsx)(E.Z,{align:"right",children:L(e.subtotal)})]}),(0,O.jsxs)(q.Z,{children:[(0,O.jsx)(r,{colSpan:2,align:"right",children:"Total"}),(0,O.jsx)(E.Z,{colSpan:1}),(0,O.jsx)(E.Z,{align:"right",children:L(e.total)})]})]})]})})}):null}var B={quantity:1,price:"",discount:"",employeeId:"",productId:""};var N=function(n){var e=n.setFormValues,t=n.formValues,r=t.sale_details.map((function(n){return n.discount?n.quantity*n.price-n.quantity*n.price*(n.discount/100):n.quantity*n.price})).reduce((function(n,e){return n+e}),0),o=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a,e=(0,v.Z)({},d);if("productId"in n&&(e.productId=n.productId?"":"Este campo es requerido"),"quantity"in n&&(e.quantity=n.quantity?"":"Este campo es requerido"),f((0,v.Z)({},e)),n==a)return Object.values(e).every((function(n){return""==n}))},i=(0,k.c)(B,!0,o),a=i.values,c=i.setValues,s=i.handleInputChange,d=(i.resetForm,i.errors),f=i.setErrors,p=(0,l.v9)((function(n){return n.products}));return(0,u.useEffect)((function(){a.productId&&c((0,v.Z)((0,v.Z)({},a),{},{price:p.find((function(n){return n.id==a.productId})).sale_price}))}),[a.productId]),(0,u.useEffect)((function(){t.sale_details&&e((0,v.Z)((0,v.Z)({},t),{},{total:r,subtotal:r}))}),[t.sale_details]),(0,O.jsxs)(O.Fragment,{children:[(0,O.jsx)(A.Z,{item:!0,xs:12,sm:5,children:(0,O.jsx)(w.Z.FormSelect,{size:"small",name:"productId",label:"Producto",value:a.productId,onChange:function(n){s(n)},items:p.filter((function(n){return n.status})),error:d.productId})}),(0,O.jsx)(A.Z,{item:!0,xs:4,sm:2,children:(0,O.jsx)(w.Z.FormInput,{size:"small",label:"Cantidad",name:"quantity",value:a.quantity,type:"number",onChange:s,error:d.quantity})}),(0,O.jsx)(A.Z,{item:!0,xs:4,sm:2,children:(0,O.jsx)(w.Z.FormInput,{size:"small",label:"Descuento",name:"discount",value:a.discount,type:"number",onChange:s})}),(0,O.jsx)(A.Z,{item:!0,xs:4,sm:2,children:(0,O.jsx)(w.Z.FormInput,{size:"small",label:"Precio",name:"price",value:a.price,type:"number",onChange:s,disabled:!0})}),(0,O.jsx)(A.Z,{item:!0,xs:12,sm:1,style:{alignSelf:"center"},children:(0,O.jsx)(I.Z,{onClick:function(){o()&&(e((0,v.Z)((0,v.Z)({},t),{},{sale_details:[].concat((0,P.Z)(t.sale_details),[a])})),c(B))},style:{width:"100%",height:"35px",borderRadius:20,backgroundColor:"rgb(54, 163, 234)",marginBottom:5},children:(0,O.jsx)(R.Z,{style:{color:"white"}})})})]})},Y=t(56460),U=function(n){var e=(0,l.v9)((function(n){return n.branches})),t=(0,l.v9)((function(n){return n.customers})),r=(0,l.v9)((function(n){return n.sales})),o=(0,l.v9)((function(n){return n.auth})).profile,i={id:0,folio:"SV-".concat(r.length+1),subtotal:"",createdAt:new Date,total:"",userId:o.id,branchId:o.branchId,customerId:"",customer:null,sale_details:[]},a=n.recordForEdit,c=n.addOrEdit,s=n.cancelForm,d=n.setOpenAlert,f=(0,k.c)(i),p=f.values,h=f.setValues,x=f.handleInputChange,Z=f.resetForm;(0,u.useEffect)((function(){null!=a&&a.id&&h((0,v.Z)({},a))}),[a]);return(0,O.jsx)(k.l,{onSubmit:function(n){n.preventDefault(),0===p.sale_details.length?d(!0):c(p,Z)},style:null!==a&&void 0!==a&&a.id?{opacity:.8,pointerEvents:"none"}:null,children:(0,O.jsxs)(b.ZP,{container:!0,rowSpacing:0,columnSpacing:3,style:{width:"calc(100% + 24px)"},children:[(0,O.jsx)(b.ZP,{item:!0,xs:12,sm:4,children:(0,O.jsxs)("h5",{style:{fontWeight:"bold",textAlign:"center"},children:["Folio: ",(0,O.jsx)("span",{style:{fontSize:"15px",fontWeight:"normal"},children:p.folio})]})}),(0,O.jsx)(b.ZP,{item:!0,xs:12,sm:4,children:(0,O.jsxs)("h5",{style:{fontWeight:"bold",textAlign:"center"},children:["Usuario: ",(0,O.jsx)("span",{style:{fontSize:"15px",fontWeight:"normal"},children:o.name})]})}),(0,O.jsx)(b.ZP,{item:!0,xs:12,sm:4,children:(0,O.jsxs)("h5",{style:{fontWeight:"bold",textAlign:"center"},children:["Fecha:"," ",(0,O.jsx)("span",{style:{fontSize:"15px",fontWeight:"normal"},children:new Date(p.createdAt).toLocaleDateString()})]})}),(0,O.jsx)(b.ZP,{item:!0,xs:12,children:(0,O.jsx)(y.Z,{light:!1,orientation:"horizontal",flexItem:!0,style:{margin:5,height:"4px",color:"#36A3EA",opacity:1}})}),(0,O.jsx)(b.ZP,{item:!0,xs:12,children:(0,O.jsx)("h5",{style:{marginTop:5},children:"Datos Generales"})}),(0,O.jsx)(b.ZP,{item:!0,xs:12,sm:6,children:(0,O.jsx)(S.Z,{name:"customer",value:p.customer,isOptionEqualToValue:function(n,e){return n.id===e.id},id:"combo-box-demo",options:null!==a&&void 0!==a&&a.id?t:t.filter((function(n){return n.status})),onChange:function(n,e){return x({target:{value:e,name:"customer"}})},getOptionLabel:function(n){return"".concat(n.name," ").concat(n.lastname," - ").concat(n.phone)},renderInput:function(n){return(0,O.jsx)(F.Z,(0,v.Z)((0,v.Z)({required:!0},n),{},{label:"Cliente"}))}})}),(0,O.jsx)(b.ZP,{item:!0,xs:12,sm:6,children:(0,O.jsx)(w.Z.FormSelect,{name:"branchId",label:"Sucursal",value:p.branchId||"",onChange:x,items:null!==a&&void 0!==a&&a.id?e:e.filter((function(n){return n.status})),required:!0})}),(0,O.jsx)(b.ZP,{item:!0,xs:6,sm:6,children:(0,O.jsx)("h5",{children:"Detalle Venta"})}),(0,O.jsx)(b.ZP,{item:!0,xs:6,sm:6,style:{textAlign:"right"},children:(0,O.jsx)(C.Z,{title:"Limpiar Detalle",children:(0,O.jsx)(I.Z,{style:{width:"35px",height:"35px",borderRadius:20,backgroundColor:"rgb(54, 163, 234)",color:"white"},onClick:function(){h((0,v.Z)((0,v.Z)({},p),{},{sale_details:[]}))},children:(0,O.jsx)(Y.Z,{})})})}),(0,O.jsx)(N,{setFormValues:h,formValues:p}),(0,O.jsx)(b.ZP,{item:!0,xs:12,style:null!==a&&void 0!==a&&a.id?{opacity:.9,pointerEvents:"all"}:null,children:(0,O.jsx)(M,{values:p})}),(0,O.jsxs)(b.ZP,{item:!0,xs:12,style:{textAlign:"right",paddingTop:5},children:[(0,O.jsx)(w.Z.FormButton,{variant:"text",color:"default",size:"large",text:"Cancelar",onClick:function(){s(Z)},style:{pointerEvents:"auto"}}),(0,O.jsx)(w.Z.FormButton,{variant:"contained",color:"primary",type:"submit",size:"large",text:"Guardar"})]})]})})},$=t(15617),G=t.n($),J=t(5403),H=t(20376),Q=t(40501),K=t(8737),X=t(32818),nn=t(5197),en=t(50872),tn=t(4379),rn=t(72426),on=t.n(rn),an=t(28796),cn=t(70574),un=t(83795),ln=t(21319),sn=t(97056),dn=t(90528),fn=t(1795);function pn(n){return"$".concat(n.toFixed(2))}function hn(n){var e=n.values,t=(0,l.v9)((function(n){return n.products})),r=(0,W.Z)((function(n){return{root:{fontWeight:"bold"}}}))(E.Z);return 0!==e.sale_details.length?(0,O.jsx)(O.Fragment,{children:(0,O.jsx)(V.Z,{style:{paddingRight:30,paddingLeft:30},children:(0,O.jsxs)(_.Z,{"aria-label":"spanning table",children:[(0,O.jsx)(T.Z,{children:(0,O.jsxs)(q.Z,{style:{backgroundColor:"rgba(88,183,244,0.5)"},children:[(0,O.jsx)(r,{children:"Descripci\xf3n"}),(0,O.jsx)(r,{align:"right",children:"Cantidad"}),(0,O.jsx)(r,{align:"right",children:"Precio Unitario"}),(0,O.jsx)(r,{align:"right",children:"Descuento"}),(0,O.jsx)(r,{align:"right",children:"Suma"})]})}),(0,O.jsx)(D.Z,{children:e.sale_details.map((function(n,e){return(0,O.jsxs)(q.Z,{children:[(0,O.jsx)(E.Z,{children:t.find((function(e){return e.id==n.productId})).name}),(0,O.jsx)(E.Z,{align:"right",children:n.quantity}),(0,O.jsx)(E.Z,{align:"right",children:pn(n.price)}),(0,O.jsx)(E.Z,{align:"right",children:n.discount?"".concat(n.discount,"%"):"-"}),(0,O.jsx)(E.Z,{align:"right",children:pn((r=n.quantity,o=n.price,i=n.discount,i?r*o-r*o*(i/100):r*o))})]},e);var r,o,i}))})]})})}):null}var xn=t(39568),Zn=t(46154),gn=t(60132),mn=t(61248),jn=t(30403),vn=(0,dn.Z)({overrides:{MuiTableSortLabel:{root:{"&:hover":{color:"#0047AD"}},active:{color:"#0047AD !important"},icon:{color:"#0047AD !important"}}}}),bn=function(n){var e=[{title:(0,O.jsx)(nn.T,{Icon:xn.Z,title:"Folio"}),field:"folio"},{title:(0,O.jsx)(nn.T,{Icon:Q.Z,title:"Cliente"}),field:"customer.name",customFilterAndSearch:function(n,e){return"".concat(e.customer.name," ").concat(e.customer.lastname).toLowerCase().includes(n.toLowerCase())},render:function(n){return"".concat(n.customer.name," ").concat(n.customer.lastname)}},{title:(0,O.jsx)(nn.T,{Icon:Zn.Z,title:"Subtotal"}),field:"subtotal",type:"currency"},{title:(0,O.jsx)(nn.T,{Icon:Zn.Z,title:"Total"}),field:"total",type:"currency"},{title:(0,O.jsx)(nn.T,{Icon:H.Z,title:"Fecha de venta"}),field:"createdAt",type:"date",defaultSort:"desc",render:function(n){return on()(n.createdAt).format("DD/MM/YYYY").toString()}}],t=n.setOpenPopup,r=n.setRecordForEdit,o=(0,l.I0)(),i=(0,l.v9)((function(n){return n.sales})),a=(0,l.v9)((function(n){return n.branches})),c=(0,l.v9)((function(n){return n.customers})),s=(0,l.v9)((function(n){return n.products}));return(0,u.useEffect)((function(){0===s.length&&o((0,un.Dg)()),0===a.length&&o((0,ln.Qq)()),0===c.length&&o((0,sn.JL)()),0===i.length&&o((function(n){p().get("".concat("https://dental-app-backend.herokuapp.com","/api/sales")).then((function(e){console.log(e),n(m(e.data))})).catch((function(n){console.log(n)}))}))}),[]),(0,u.useMemo)((function(){return(0,O.jsx)(O.Fragment,{children:null!=i?(0,O.jsxs)(O.Fragment,{children:[(0,O.jsx)(X.T,{title:"Ventas"}),(0,O.jsx)(fn.Z,{theme:vn,children:(0,O.jsx)(G(),{localization:tn._,icons:an.P,columns:e,data:i,detailPanel:function(n){return(0,O.jsx)(hn,{values:n})},actions:[{icon:"save",tooltip:"Save User",onClick:function(n,e){return t(!0)},isFreeAction:!0},{icon:function(){return(0,O.jsx)(J.Z,{style:{color:"#1380C7"}})},tooltip:"Ver venta",onClick:function(n,e){t(!0),r(e)}},function(n){return{icon:function(){return n.status?(0,O.jsx)(jn.Z,{style:{color:"#1380C7"}}):(0,O.jsx)(mn.Z,{style:{color:"#1380C7"}})},tooltip:n.status?"Cancelar Venta":"Reactivar Venta",onClick:function(n,e){e.status=!e.status,o(x(e,e.id))}}}],components:{Action:function(n){return(0,O.jsx)(O.Fragment,{children:"save"===n.action.icon?(0,O.jsx)(en.J,{onClick:function(e){return n.action.onClick(e,n.data)}}):(0,O.jsx)($.MTableAction,(0,v.Z)({},n))})},Row:function(n){return(0,O.jsx)($.MTableBodyRow,(0,v.Z)((0,v.Z)({},n),{},{onDoubleClick:function(e){t(!0),r(n.data)}}))}},options:{search:!0,draggable:!1,showTitle:!1,thirdSortClick:!1,searchFieldAlignment:"left",actionsColumnIndex:-1,searchFieldVariant:"outlined",searchFieldStyle:{margin:15},headerStyle:cn.i,rowStyle:gn.Z}})})]}):(0,O.jsx)(K.$,{})})}),[i])},yn=(0,o.Z)((function(n){return{pageContent:{padding:n.spacing(3)},searchInput:{width:"75%"}}})),Cn=function(){var n=(0,l.I0)(),e=(0,u.useState)(!1),t=(0,r.Z)(e,2),o=t[0],f=t[1],h=(0,u.useState)(!1),g=(0,r.Z)(h,2),m=g[0],v=g[1],b=(0,u.useState)(null),y=(0,r.Z)(b,2),C=y[0],k=y[1],w=(yn(),function(n,e){"clickaway"!==e&&v(!1)});return(0,O.jsxs)(O.Fragment,{children:[(0,O.jsx)(i.Z,{children:(0,O.jsx)(bn,{setOpenPopup:f,setRecordForEdit:k})}),(0,O.jsx)(j.Y,{openPopup:o,setOpenPopup:f,setRecordForEdit:k,title:"Venta",children:(0,O.jsx)(U,{recordForEdit:C,addOrEdit:function(e,t){e.customerId=e.customer.id,Object.keys(e).forEach((function(n){""===e[n]&&(e[n]=null)})),Object.keys(e.sale_details).forEach((function(n){Object.keys(e.sale_details[n]).forEach((function(t){""===e.sale_details[n][t]&&(e.sale_details[n][t]="discount"===t?0:null)}))})),0===e.id?(delete e.id,n(function(n){return function(){var e=(0,d.Z)((0,s.Z)().mark((function e(t){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p().post("".concat("https://dental-app-backend.herokuapp.com","/api/sales"),n).then((function(n){t(Z(n.data))})).catch((function(n){console.log(n)}));case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()}(e))):(delete e.tableData,n(x(e,e.id))),t(),k(null),f(!1)},setOpenAlert:v,cancelForm:function(n){n(),k(null),f(!1)}})}),(0,O.jsx)(a.Z,{open:m,autoHideDuration:2e3,onClose:w,children:(0,O.jsx)(c.Z,{onClose:w,severity:"warning",sx:{width:"100%"},style:{backgroundColor:"rgb(211, 47, 47)",color:"white",fontWeight:"bold"},children:"Agregar al menos un producto !"})})]})}},32818:function(n,e,t){t.d(e,{T:function(){return i}});var r=t(20890),o=(t(72791),t(80184)),i=function(n){var e=n.title;return(0,o.jsx)(r.Z,{variant:"h4",style:{textAlign:"left",paddingLeft:15,color:"#fff",lineHeight:"1.4",backgroundColor:"#36A3EA",borderRadius:5,border:"5",fontWeight:"bold"},fontFamily:"Roboto",children:e})}},8737:function(n,e,t){t.d(e,{$:function(){return o}});t(72791);var r=t(80184),o=function(){return(0,r.jsx)("div",{className:"spinner-container",children:(0,r.jsx)("div",{className:"loading-spinner"})})}},96986:function(n,e,t){t.d(e,{Z:function(){return I}});var r=t(1413),o=t(45987),i=(t(72791),t(10838)),a=t(80184),c=["name","label","value","error","onChange"],u=t(66828),l=t(10083),s=t(54266),d=t(94135),f=t(43850),p=t(51859),h=t(68096),x=t(94925),Z=t(58406),g=t(47071),m=["name","label","value","onChange","items","required","size","error"],j=t(85247),v=t(71652),b=t(44946),y=t(69783),C=["name","label","value","onChange"],k=t(38596),w=t(26513),S=["text","size","color","variant","onClick"],F=(0,k.Z)((function(n){return{root:{margin:n.spacing(.5)},label:{textTransform:"none"}}})),I={FormInput:function(n){var e=n.name,t=n.label,u=n.value,l=n.error,s=void 0===l?null:l,d=n.onChange,f=(0,o.Z)(n,c);return(0,a.jsx)(i.bM,(0,r.Z)((0,r.Z)({},f),{},{variant:"outlined",label:t,name:e,value:u,onChange:d},s&&{error:!0,helperText:s}))},FormRadioGroup:function(n){var e=n.name,t=n.label,r=n.value,o=n.onChange,i=n.items;return(0,a.jsxs)(u.Z,{children:[(0,a.jsx)(l.Z,{children:t}),(0,a.jsx)(s.Z,{row:!0,name:e,value:r,onChange:o,children:i.map((function(n,e){return(0,a.jsx)(d.Z,{value:n.id,control:(0,a.jsx)(f.Z,{}),label:n.title},e)}))})]})},FormSelect:function(n){var e=n.name,t=n.label,i=n.value,c=n.onChange,u=n.items,l=n.required,s=n.size,d=n.error,f=void 0===d?null:d,j=(0,o.Z)(n,m);return(0,a.jsxs)(h.Z,(0,r.Z)((0,r.Z)({variant:"outlined",required:l,size:s},f&&{error:!0}),{},{children:[(0,a.jsx)(x.Z,{children:t}),(0,a.jsxs)(Z.Z,(0,r.Z)((0,r.Z)({label:t,name:e,value:i,onChange:c},j),{},{children:[(0,a.jsx)(p.Z,{value:"",children:"Ninguno"}),u.map((function(n,e){return(0,a.jsx)(p.Z,{value:n.id,children:n.name},n.id)}))]})),f&&(0,a.jsx)(g.Z,{children:f})]}))},FormCheckbox:function(n){var e=n.name,t=n.label,r=n.value,o=n.onChange;return(0,a.jsx)(u.Z,{children:(0,a.jsx)(d.Z,{control:(0,a.jsx)(j.Z,{name:e,color:"primary",checked:r,onChange:function(n){return o(function(n,e){return{target:{name:n,value:e}}}(e,n.target.checked))}}),label:t})})},FormDatePicker:function(n){var e=n.name,t=n.label,c=n.value,u=n.onChange,l=(0,o.Z)(n,C);return(0,a.jsx)(v._,{dateAdapter:y.Z,children:(0,a.jsx)(b.$,{label:t,name:e,value:c,onChange:function(n){return u(function(n,e){return{target:{name:n,value:e}}}(e,n))},renderInput:function(n){return(0,a.jsx)(i.bM,(0,r.Z)((0,r.Z)({},n),{},{variant:"outlined",value:n.inputProps.value},l))}})})},FormButton:function(n){var e=n.text,t=n.size,i=n.color,c=n.variant,u=n.onClick,l=(0,o.Z)(n,S),s=F();return(0,a.jsx)(w.Z,(0,r.Z)((0,r.Z)({variant:c||"contained",size:t||"large",color:i||"primary",onClick:u},l),{},{classes:{root:s.root,label:s.label},children:e}))}}},13365:function(n,e,t){t.d(e,{Y:function(){return f}});t(72791);var r=t(5574),o=t(65661),i=t(20890),a=t(24518),c=t(39157),u=t(38596),l=t(29823),s=t(80184),d=(0,u.Z)((function(n){return{dialogWrapper:{position:"absolute",top:n.spacing(5),maxHeight:"85vh"},dialogTittle:{backgroundColor:"rgba(88,183,244,0.8)"}}})),f=function(n){var e=n.title,t=n.children,u=n.openPopup,f=n.setOpenPopup,p=n.setRecordForEdit,h=d();return(0,s.jsxs)(r.Z,{open:u,onClose:function(n,e){(e&&"backdropClick"==e||"escapeKeyDown"==e)&&(p(null),f(!1))},maxWidth:"md",classes:{paper:h.dialogWrapper},disableEnforceFocus:!0,fullWidth:!0,children:[(0,s.jsx)(o.Z,{style:{backgroundColor:"#36A3EA"},children:(0,s.jsxs)("div",{style:{display:"flex"},children:[(0,s.jsx)(i.Z,{variant:"h6",component:"div",style:{flexGrow:1,color:"white"},children:e}),(0,s.jsx)(a.Z,{style:{fontSize:"15px",color:"white"},onClick:function(){p(null),f(!1)},children:(0,s.jsx)(l.Z,{})})]})}),(0,s.jsx)(c.Z,{dividers:!0,children:t})]})}},50872:function(n,e,t){t.d(e,{J:function(){return a}});var r=t(24518),o=(t(72791),t(42419)),i=t(80184),a=function(n){n.title;var e=n.onClick;return(0,i.jsxs)(r.Z,{variant:"contained",onClick:e,style:{textTransform:"none",margin:1,backgroundColor:"#36A3EA",color:"white",padding:5,borderRadius:15,width:120,fontWeight:"bold"},size:"large",children:[(0,i.jsx)(o.Z,{style:{marginRight:5}}),"Agregar"]})}},70574:function(n,e,t){t.d(e,{i:function(){return r}});var r={whiteSpace:"nowrap",fontWeight:"bold",backgroundColor:"rgba(88, 183, 244, 0.2)",color:"#1380C7"}},28796:function(n,e,t){t.d(e,{P:function(){return b}});var r=t(1413),o=t(18455),i=t(28030),a=t(21348),c=t(8111),u=t(34560),l=t(13880),s=t(76441),d=t(31820),f=t(32772),p=t(23057),h=t(89686),x=t(71557),Z=t(60745),g=t(54241),m=t(72791),j=t(21079),v=t(80184),b={Add:(0,m.forwardRef)((function(n,e){return(0,v.jsx)(f.Z,(0,r.Z)((0,r.Z)({},n),{},{ref:e}))})),Check:(0,m.forwardRef)((function(n,e){return(0,v.jsx)(h.Z,(0,r.Z)((0,r.Z)({},n),{},{ref:e}))})),Clear:(0,m.forwardRef)((function(n,e){return(0,v.jsx)(g.Z,(0,r.Z)((0,r.Z)({},n),{},{ref:e}))})),Delete:(0,m.forwardRef)((function(n,e){return(0,v.jsx)(p.Z,(0,r.Z)((0,r.Z)({},n),{},{ref:e}))})),DetailPanel:(0,m.forwardRef)((function(n,e){return(0,v.jsx)(Z.Z,(0,r.Z)((0,r.Z)({},n),{},{ref:e}))})),Edit:(0,m.forwardRef)((function(n,e){return(0,v.jsx)(j.Z,(0,r.Z)((0,r.Z)({},n),{},{ref:e}))})),Export:(0,m.forwardRef)((function(n,e){return(0,v.jsx)(u.Z,(0,r.Z)((0,r.Z)({},n),{},{ref:e}))})),Filter:(0,m.forwardRef)((function(n,e){return(0,v.jsx)(o.Z,(0,r.Z)((0,r.Z)({},n),{},{ref:e}))})),FirstPage:(0,m.forwardRef)((function(n,e){return(0,v.jsx)(i.Z,(0,r.Z)((0,r.Z)({},n),{},{ref:e}))})),LastPage:(0,m.forwardRef)((function(n,e){return(0,v.jsx)(a.Z,(0,r.Z)((0,r.Z)({},n),{},{ref:e}))})),NextPage:(0,m.forwardRef)((function(n,e){return(0,v.jsx)(Z.Z,(0,r.Z)((0,r.Z)({},n),{},{ref:e}))})),PreviousPage:(0,m.forwardRef)((function(n,e){return(0,v.jsx)(x.Z,(0,r.Z)((0,r.Z)({},n),{},{ref:e}))})),ResetSearch:(0,m.forwardRef)((function(n,e){return(0,v.jsx)(g.Z,(0,r.Z)((0,r.Z)({},n),{},{ref:e}))})),Search:(0,m.forwardRef)((function(n,e){return(0,v.jsx)(l.Z,(0,r.Z)((0,r.Z)({},n),{},{ref:e}))})),SortArrow:(0,m.forwardRef)((function(n,e){return(0,v.jsx)(d.Z,(0,r.Z)((0,r.Z)({},n),{},{ref:e}))})),ThirdStateCheck:(0,m.forwardRef)((function(n,e){return(0,v.jsx)(c.Z,(0,r.Z)((0,r.Z)({},n),{},{ref:e}))})),ViewColumn:(0,m.forwardRef)((function(n,e){return(0,v.jsx)(s.Z,(0,r.Z)((0,r.Z)({},n),{},{ref:e}))}))}},60132:function(n,e){e.Z=function(n,e){return n.status?{cursor:"pointer"}:{cursor:"pointer",backgroundColor:"rgba(252,0,0,0.1)"}}},5197:function(n,e,t){t.d(e,{T:function(){return o}});t(72791);var r=t(80184),o=function(n){var e=n.Icon,t=n.title;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(e,{style:{fontSize:18,margin:5}}),t]})}},4379:function(n,e,t){t.d(e,{_:function(){return r}});var r={toolbar:{searchPlaceholder:"Buscar"},pagination:{labelDisplayedRows:"{from}-{to} de {count}",labelRowsSelect:"filas",lastTooltip:"Ultima pagina",nextTooltip:"Siguiente pagina",firstTooltip:"Primera pagina",previousTooltip:"Pagina anterior"},header:{actions:""},body:{emptyDataSourceMessage:"No hay registros que mostrar",filterRow:{filterTooltip:"Filter"}}}}}]);
//# sourceMappingURL=286.f050e08e.chunk.js.map