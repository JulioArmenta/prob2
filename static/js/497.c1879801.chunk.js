"use strict";(self.webpackChunk_coreui_coreui_free_react_admin_template=self.webpackChunk_coreui_coreui_free_react_admin_template||[]).push([[497],{51699:function(e,n,t){t.d(n,{Ic:function(){return u},td:function(){return l},yY:function(){return s}});var r=t(74165),o=t(15861),a=t(31881),i=t.n(a),c=t(50804),l=function(){return function(e){i().get("https://dental-app-backend.herokuapp.com/api/providers").then((function(n){console.log(n),e(f(n.data))})).catch((function(e){console.log(e)}))}},u=function(e){return function(){var n=(0,o.Z)((0,r.Z)().mark((function n(t){return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,i().post("https://dental-app-backend.herokuapp.com/api/providers",e).then((function(e){t(d(e.data))})).catch((function(e){console.log(e)}));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},s=function(e,n){return function(){var t=(0,o.Z)((0,r.Z)().mark((function t(o){return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i().put("https://dental-app-backend.herokuapp.com/api/providers/".concat(n),e).then((function(n){o(p(e))})).catch((function(e){console.log(e)}));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},d=function(e){return{type:c.V.createProvider,payload:e}},p=function(e){return{type:c.V.updateProvider,payload:e}},f=function(e){return{type:c.V.getProviders,payload:e}}},94497:function(e,n,t){t.r(n),t.d(n,{default:function(){return V}});var r=t(29439),o=t(97241),a=t(82277),i=t(47313),c=t(1084),l=t(51699),u=t(98456),s=t(1413),d=t(21144),p=t(87913),f=t(7501),m=t(46417),h={id:0,name:"",contact_name:"",email:"",address:"",phone:""},x=function(e){var n=e.recordForEdit,t=e.addOrEdit,r=e.cancelForm,o=(0,p.c)(h),a=o.values,c=o.setValues,l=o.handleInputChange,u=o.resetForm;(0,i.useEffect)((function(){null!=n&&(console.log(n),n.id&&c((0,s.Z)({},n)))}),[n]);return(0,m.jsx)(p.l,{onSubmit:function(e){e.preventDefault(),t(a,u)},children:(0,m.jsxs)(d.Z,{container:!0,children:[(0,m.jsxs)(d.Z,{item:!0,xs:12,children:[(0,m.jsx)(f.Z.FormInput,{label:"Nombre",name:"name",value:a.name,onChange:l,required:!0}),(0,m.jsx)(f.Z.FormInput,{label:"Nombre Contacto",name:"contact_name",value:a.contact_name,onChange:l,required:!0}),(0,m.jsx)(f.Z.FormInput,{label:"Correo electronico",name:"email",value:a.email,onChange:l,validators:["isEmail"],errorMessages:["Ingresar email v\xe1lido"]}),(0,m.jsx)(f.Z.FormInput,{label:"Direcci\xf3n",name:"address",value:a.address,onChange:l,required:!0}),(0,m.jsx)(f.Z.FormInput,{label:"Tel\xe9fono",name:"phone",value:a.phone,onChange:l,required:!0})]}),(0,m.jsxs)(d.Z,{item:!0,xs:12,style:{textAlign:"right",paddingTop:5},children:[(0,m.jsx)(f.Z.FormButton,{variant:"text",color:"default",size:"large",text:"Cancelar",onClick:function(){r(u)}}),(0,m.jsx)(f.Z.FormButton,{variant:"contained",color:"primary",type:"submit",size:"large",text:"Guardar"})]})]})})},g=t(40490),v=t.n(g),Z=t(61091),j=t(79632),F=t(56863),I=t(11163),b=t(50884),y=t(56155),C=t(77166),_=t(16541),k=(t(11901),t(39615)),E=t(70816),P=t.n(E),T=t(64154),w=t(98896),S=t(20647),Y=t(58228),D=t(43619),O=t(40671),z=function(e){var n=[{title:(0,m.jsx)(_.T,{Icon:I.Z,title:"Nombre"}),field:"name"},{title:(0,m.jsx)(_.T,{Icon:b.Z,title:"Nombre Contacto"}),field:"contact_name"},{title:(0,m.jsx)(_.T,{Icon:j.Z,title:"Correo Electronico"}),field:"email"},{title:(0,m.jsx)(_.T,{Icon:S.Z,title:"Direcci\xf3n"}),field:"address"},{title:(0,m.jsx)(_.T,{Icon:Z.Z,title:"Telefono"}),field:"phone"},{title:(0,m.jsx)(_.T,{Icon:F.Z,title:"Fecha de registro"}),field:"createdAt",type:"date",defaultSort:"desc",render:function(e){return P()(e.createdAt).format("DD/MM/YYYY")}}],t=e.setOpenPopup,r=e.setRecordForEdit,o=(0,c.I0)(),a=(0,c.v9)((function(e){return e.providers}));return(0,i.useEffect)((function(){0===a.length&&o((0,l.td)())}),[]),(0,i.useMemo)((function(){return(0,m.jsx)(m.Fragment,{children:null!=a?(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(C.T,{title:"Proveedores"}),(0,m.jsx)(v(),{localization:k._,icons:T.P,columns:n,data:a,actions:(0,Y.Z)("Editar Proveedor",l.yY,t,r,o),components:(0,D.Z)(t,r),options:{search:!0,draggable:!1,showTitle:!1,thirdSortClick:!1,searchFieldAlignment:"left",actionsColumnIndex:-1,searchFieldVariant:"outlined",searchFieldStyle:{margin:15},headerStyle:w.i,rowStyle:O.Z}})]}):(0,m.jsx)(y.$,{})})}),[a])},M=(0,o.Z)((function(e){return{pageContent:{margin:e.spacing(3),padding:e.spacing(3)},searchInput:{width:"75%"}}})),V=function(){var e=(0,c.I0)(),n=(0,i.useState)(!1),t=(0,r.Z)(n,2),o=t[0],s=t[1],d=(0,i.useState)(null),p=(0,r.Z)(d,2),f=p[0],h=p[1];M();return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(a.Z,{children:(0,m.jsx)(z,{setOpenPopup:s,setRecordForEdit:h})}),(0,m.jsx)(u.Y,{openPopup:o,setOpenPopup:s,setRecordForEdit:h,title:"Proveedor",children:(0,m.jsx)(x,{recordForEdit:f,addOrEdit:function(n,t){0===n.id?(delete n.id,e((0,l.Ic)(n))):(delete n.tableData,e((0,l.yY)(n,n.id))),t(),h(null),s(!1)},cancelForm:function(e){e(),h(null),s(!1)}})})]})}},20647:function(e,n,t){var r=t(95318);n.Z=void 0;var o=r(t(45045)),a=t(46417),i=(0,o.default)((0,a.jsx)("path",{d:"M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z"}),"LocationOn");n.Z=i}}]);